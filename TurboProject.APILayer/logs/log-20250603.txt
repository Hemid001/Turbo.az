2025-06-03 00:06:28.739 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:06:28.811 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:06:28.814 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:06:29.054 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:06:29.495 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:06:29.783 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:06:29.787 +04:00 [INF] Hosting environment: Development
2025-06-03 00:06:29.787 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:06:30.985 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 1517.609ms
2025-06-03 00:06:31.174 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:06:31.174 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:06:31.175 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:06:31.211 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 37.7505ms
2025-06-03 00:06:31.212 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 36.2378ms
2025-06-03 00:06:31.463 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 289.402ms
2025-06-03 00:06:31.909 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:06:32.071 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 321.499ms
2025-06-03 00:06:57.301 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:06:57.560 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:06:57.594 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:06:57.771 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:06:57.962 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:06:58.007 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:06:58.014 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:06:58.026 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:06:58.043 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:06:58.051 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:06:58.296 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:06:58.325 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:06:58.336 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 735.4275ms
2025-06-03 00:06:58.338 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:06:58.344 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1053.1137ms
2025-06-03 00:07:20.705 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/1 - null null
2025-06-03 00:07:20.822 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 00:07:20.836 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 00:07:20.934 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-06-03 00:07:20.951 +04:00 [INF] Executing NotFoundObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:07:20.963 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 126.1034ms
2025-06-03 00:07:20.964 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 00:07:20.965 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/1 - 404 null application/json; charset=utf-8 266.6592ms
2025-06-03 00:07:31.694 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 00:07:31.727 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 00:07:31.744 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 00:07:31.831 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-06-03 00:07:31.938 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 00:07:31.970 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 224.4159ms
2025-06-03 00:07:31.972 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 00:07:31.976 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 286.0477ms
2025-06-03 00:08:16.374 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:08:16.449 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:08:16.464 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:08:16.569 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:08:16.629 +04:00 [ERR] Failed executing DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId], [UserId1])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 00:08:16.780 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a10c31d4-1223-45e8-9358-f7906c937849
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a10c31d4-1223-45e8-9358-f7906c937849
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:08:16.971 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 507.0672ms
2025-06-03 00:08:16.973 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:08:17.080 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a10c31d4-1223-45e8-9358-f7906c937849
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 54
   at lambda_method660(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:08:17.129 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 758.0889ms
2025-06-03 00:23:01.312 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:23:01.366 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:23:01.370 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:23:01.563 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:23:01.890 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:23:01.971 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:23:01.974 +04:00 [INF] Hosting environment: Development
2025-06-03 00:23:01.975 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:23:02.387 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 520.8594ms
2025-06-03 00:23:02.730 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:23:02.739 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:23:02.744 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:23:02.785 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 54.6732ms
2025-06-03 00:23:02.801 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 40.0843ms
2025-06-03 00:23:03.004 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 275.4177ms
2025-06-03 00:23:03.149 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:23:03.439 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 289.8953ms
2025-06-03 00:23:22.791 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:23:22.992 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:23:23.028 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:23:23.218 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:23:23.435 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:23:23.469 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:23:23.477 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:23:23.489 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:23:23.506 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:23:23.511 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:23:23.679 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:23:23.706 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:23:23.716 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 682.5965ms
2025-06-03 00:23:23.717 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:23:23.727 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 948.4095ms
2025-06-03 00:23:45.799 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:23:45.927 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:23:45.941 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:23:46.009 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:23:46.072 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 00:23:46.167 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:01102d25-fa89-4fce-8d0c-0eeeb555324e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:01102d25-fa89-4fce-8d0c-0eeeb555324e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:23:46.338 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 396.2266ms
2025-06-03 00:23:46.340 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:23:46.389 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:01102d25-fa89-4fce-8d0c-0eeeb555324e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 54
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:23:46.485 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 694.2686ms
2025-06-03 00:27:50.408 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:27:50.469 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:27:50.474 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:27:50.639 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:27:50.955 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:27:51.077 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:27:51.079 +04:00 [INF] Hosting environment: Development
2025-06-03 00:27:51.080 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:27:51.625 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 685.1007ms
2025-06-03 00:27:51.956 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:27:51.957 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:27:51.967 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:27:51.976 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 20.6256ms
2025-06-03 00:27:51.984 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 20.3453ms
2025-06-03 00:27:52.151 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 183.52ms
2025-06-03 00:27:52.350 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:27:52.585 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 234.8704ms
2025-06-03 00:28:15.390 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-06-03 00:28:15.636 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:28:15.668 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:28:15.900 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:28:15.920 +04:00 [INF] Executing ForbidResult with authentication schemes (["Account is locked"]).
2025-06-03 00:28:15.935 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 264.028ms
2025-06-03 00:28:15.944 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:28:16.088 +04:00 [ERR] An unhandled exception occurred: No authentication handler is registered for the scheme 'Account is locked'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Account is locked",...)?
System.InvalidOperationException: No authentication handler is registered for the scheme 'Account is locked'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Account is locked",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:28:16.153 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 500 null application/json; charset=utf-8 767.7405ms
2025-06-03 00:30:48.928 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:30:48.988 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:30:48.991 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:30:49.140 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:30:49.372 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:30:49.447 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:30:49.449 +04:00 [INF] Hosting environment: Development
2025-06-03 00:30:49.449 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:30:49.719 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 353.5048ms
2025-06-03 00:30:49.902 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:30:49.912 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:30:49.912 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:30:49.948 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 59.265ms
2025-06-03 00:30:49.949 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 25.5695ms
2025-06-03 00:30:50.019 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.0181ms
2025-06-03 00:30:50.193 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:30:50.239 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.1593ms
2025-06-03 00:31:06.594 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:31:07.046 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:31:07.186 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:31:08.325 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:31:09.318 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:31:09.378 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:31:09.390 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:31:09.404 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:31:09.445 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:31:09.458 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:31:09.798 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:31:09.855 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:31:09.880 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 2684.2296ms
2025-06-03 00:31:09.884 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:31:09.923 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 3339.3745ms
2025-06-03 00:31:26.025 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/users - null null
2025-06-03 00:31:26.124 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-06-03 00:31:26.135 +04:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-06-03 00:31:26.191 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-06-03 00:31:26.200 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:31:26.218 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:31:26.220 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.User.GetUserDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 00:31:26.226 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer) in 91.412ms
2025-06-03 00:31:26.227 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-06-03 00:31:26.228 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/users - 200 null application/json; charset=utf-8 212.9376ms
2025-06-03 00:31:43.338 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/users/f840f152-c024-43f1-88dd-6c48d0ae2057/unblock - null 0
2025-06-03 00:31:43.366 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.UnblockUser (TurboProject.APILayer)'
2025-06-03 00:31:43.381 +04:00 [INF] Route matched with {action = "UnblockUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnblockUser(System.String) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-06-03 00:31:43.473 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-06-03 00:31:43.508 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-06-03 00:31:43.579 +04:00 [INF] Executed DbCommand (53ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedDate] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [IsBlocked] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [Surname] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-06-03 00:31:43.584 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 00:31:43.587 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.UnblockUser (TurboProject.APILayer) in 205.67ms
2025-06-03 00:31:43.587 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.UnblockUser (TurboProject.APILayer)'
2025-06-03 00:31:43.588 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/users/f840f152-c024-43f1-88dd-6c48d0ae2057/unblock - 200 null application/json; charset=utf-8 257.4778ms
2025-06-03 00:32:18.785 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-06-03 00:32:18.808 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:32:18.810 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:32:18.854 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:32:18.930 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:32:18.937 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:32:18.944 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:32:18.951 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:32:18.960 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:32:18.965 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:32:18.986 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:32:18.988 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:32:18.990 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 179.3329ms
2025-06-03 00:32:18.990 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:32:18.992 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 212.5722ms
2025-06-03 00:32:46.283 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:32:46.318 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:32:46.326 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:32:46.396 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:32:46.427 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 00:32:46.510 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:db5ee286-d248-4d40-8f3e-e530116ee77d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:db5ee286-d248-4d40-8f3e-e530116ee77d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:32:46.683 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 356.4454ms
2025-06-03 00:32:46.685 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:32:46.819 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:db5ee286-d248-4d40-8f3e-e530116ee77d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 54
   at lambda_method535(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:32:46.856 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 574.7208ms
2025-06-03 00:33:59.535 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/favorite - null null
2025-06-03 00:33:59.553 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-06-03 00:33:59.564 +04:00 [INF] Route matched with {action = "GetUserFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.Collections.Generic.List`1[TurboProject.BusinessLayer.Model.DTO.Response.Favorite.GetFavoriteDto]]]] GetUserFavorites() on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:33:59.675 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[CarId], [f].[CreatedAt], [f].[UserId], [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Favorites] AS [f]
INNER JOIN [Cars] AS [c] ON [f].[CarId] = [c].[Id]
WHERE [f].[UserId] = @__userId_0
2025-06-03 00:33:59.694 +04:00 [INF] Executing NotFoundObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Favorite.GetFavoriteDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 00:33:59.701 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer) in 136.4831ms
2025-06-03 00:33:59.701 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-06-03 00:33:59.702 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/favorite - 404 null application/json; charset=utf-8 170.7322ms
2025-06-03 00:39:36.794 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:39:36.973 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:39:36.985 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:39:37.557 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:39:38.092 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:39:38.186 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:39:38.189 +04:00 [INF] Hosting environment: Development
2025-06-03 00:39:38.190 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:39:38.767 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 681.1376ms
2025-06-03 00:39:38.949 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:39:38.952 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:39:38.952 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:39:38.988 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 41.4494ms
2025-06-03 00:39:38.990 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 32.9697ms
2025-06-03 00:39:39.075 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 126.8084ms
2025-06-03 00:39:39.307 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:39:39.341 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.4192ms
2025-06-03 00:39:58.003 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:39:58.233 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:39:58.286 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:39:58.471 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:39:58.732 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:39:58.757 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:39:58.762 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:39:58.775 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:39:58.796 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:39:58.801 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:39:58.951 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:39:58.996 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:39:59.026 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 728.1843ms
2025-06-03 00:39:59.027 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:39:59.033 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1038.477ms
2025-06-03 00:40:20.499 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:40:20.599 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:40:20.610 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:40:20.683 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:40:20.724 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 00:40:20.806 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dff33071-cab4-4e3a-bf7e-7f328a98b8e0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dff33071-cab4-4e3a-bf7e-7f328a98b8e0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:40:20.972 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 361.6224ms
2025-06-03 00:40:20.975 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:40:21.031 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dff33071-cab4-4e3a-bf7e-7f328a98b8e0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 60
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:40:21.069 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 573.3715ms
2025-06-03 00:42:41.488 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:42:41.540 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:42:41.542 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:42:41.693 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:42:42.050 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:42:42.118 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:42:42.118 +04:00 [INF] Hosting environment: Development
2025-06-03 00:42:42.119 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:42:42.656 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 612.6563ms
2025-06-03 00:42:42.960 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:42:42.994 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:42:43.045 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:42:43.105 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 100.1085ms
2025-06-03 00:42:43.105 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 135.087ms
2025-06-03 00:42:43.284 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 289.9103ms
2025-06-03 00:42:43.472 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:42:44.032 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 555.2846ms
2025-06-03 00:43:05.380 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:43:05.601 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:43:05.635 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:43:05.849 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:43:06.041 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:43:06.067 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:43:06.073 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:43:06.081 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:43:06.100 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:43:06.107 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:43:06.275 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:43:06.297 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:43:06.305 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 667.2855ms
2025-06-03 00:43:06.306 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:43:06.317 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 941.268ms
2025-06-03 00:43:31.313 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:43:31.476 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:43:31.490 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:44:32.980 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:44:33.036 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 00:44:33.102 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2a6b301-edce-46e5-843e-1239bd577e26
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2a6b301-edce-46e5-843e-1239bd577e26
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:44:33.247 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 61755.2522ms
2025-06-03 00:44:33.248 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:44:33.309 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2a6b301-edce-46e5-843e-1239bd577e26
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 60
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:44:33.346 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 62044.5122ms
2025-06-03 00:50:07.741 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:50:07.825 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:50:07.830 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:50:08.127 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:50:08.454 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:50:08.507 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:50:08.508 +04:00 [INF] Hosting environment: Development
2025-06-03 00:50:08.509 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:50:08.830 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 372.7066ms
2025-06-03 00:50:08.984 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:50:08.993 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:50:08.994 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:50:09.007 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 19.308ms
2025-06-03 00:50:09.014 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 19.6281ms
2025-06-03 00:50:09.165 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 172.3975ms
2025-06-03 00:50:09.395 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:50:09.522 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.3457ms
2025-06-03 00:50:28.455 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:50:28.629 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:50:28.660 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:50:28.851 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:50:29.082 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:50:29.116 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:50:29.126 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:50:29.141 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:50:29.156 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:50:29.161 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:50:29.363 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:50:29.389 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:50:29.396 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 733.2609ms
2025-06-03 00:50:29.504 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:50:30.011 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1559.8371ms
2025-06-03 00:50:49.668 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:50:49.814 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:50:49.822 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:56:50.209 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:56:50.273 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:56:50.284 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:56:50.441 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 00:56:50.746 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger - null null
2025-06-03 00:56:50.795 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:56:50.796 +04:00 [INF] Hosting environment: Development
2025-06-03 00:56:50.796 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 00:56:51.227 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger - 301 null null 494.2322ms
2025-06-03 00:56:51.278 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 00:56:51.380 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 101.9173ms
2025-06-03 00:56:51.519 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.css - null null
2025-06-03 00:56:51.540 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/swagger-ui-standalone-preset.js - null null
2025-06-03 00:56:51.538 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/swagger-ui-bundle.js - null null
2025-06-03 00:56:51.547 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 00:56:51.563 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 15.9868ms
2025-06-03 00:56:51.565 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 00:56:51.571 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 4.8292ms
2025-06-03 00:56:51.571 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/swagger-ui.css - null null
2025-06-03 00:56:51.577 +04:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-06-03 00:56:51.579 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.css - 200 202 text/css 59.9853ms
2025-06-03 00:56:51.582 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 00:56:51.585 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-03 00:56:51.594 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-03 00:56:51.624 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/swagger-ui.css - 200 152035 text/css 52.342ms
2025-06-03 00:56:51.624 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 85.3759ms
2025-06-03 00:56:51.709 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-03 00:56:51.741 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 159.2766ms
2025-06-03 00:56:51.769 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 246.2748ms
2025-06-03 00:56:52.557 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 00:56:52.820 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 272.8395ms
2025-06-03 00:57:13.437 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 00:57:13.640 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:57:13.674 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 00:57:13.828 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 00:57:13.990 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 00:57:14.018 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:57:14.023 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 00:57:14.031 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 00:57:14.050 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 00:57:14.056 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 00:57:14.227 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 00:57:14.247 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:57:14.253 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 576.3585ms
2025-06-03 00:57:14.254 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 00:57:14.259 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 833.2416ms
2025-06-03 00:58:37.083 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 00:58:37.216 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 00:58:37.225 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 00:58:37.282 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-06-03 00:58:37.412 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 00:58:37.465 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 239.8961ms
2025-06-03 00:58:37.466 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 00:58:37.468 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 387.2178ms
2025-06-03 00:58:46.060 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/4 - null null
2025-06-03 00:58:46.078 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 00:58:46.089 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 00:58:46.160 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-06-03 00:58:46.168 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 00:58:46.179 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 89.1093ms
2025-06-03 00:58:46.182 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 00:58:46.184 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/4 - 200 null application/json; charset=utf-8 126.0992ms
2025-06-03 00:58:56.601 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 00:58:56.627 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:58:56.641 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 00:59:18.831 +04:00 [INF] Executed DbCommand (120ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:59:18.912 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 00:59:19.033 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:19dc782d-af8b-499b-8718-8792bab067bc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:19dc782d-af8b-499b-8718-8792bab067bc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:59:19.245 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 22603.3583ms
2025-06-03 00:59:19.247 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 00:59:19.307 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:19dc782d-af8b-499b-8718-8792bab067bc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 62
   at lambda_method655(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 00:59:19.366 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 22767.4129ms
2025-06-03 01:09:21.868 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:09:21.920 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:09:21.922 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:09:22.081 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 01:09:22.372 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 01:09:22.425 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:09:22.427 +04:00 [INF] Hosting environment: Development
2025-06-03 01:09:22.427 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 01:09:22.709 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 351.2999ms
2025-06-03 01:09:22.820 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 01:09:22.852 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 01:09:22.852 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 01:09:22.855 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 35.7617ms
2025-06-03 01:09:22.899 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 39.1142ms
2025-06-03 01:09:22.964 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 111.9952ms
2025-06-03 01:09:23.180 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 01:09:23.211 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.4192ms
2025-06-03 01:09:51.378 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 01:09:51.601 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:09:51.648 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 01:09:51.820 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 01:09:52.002 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 01:09:52.029 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:09:52.033 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:09:52.041 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 01:09:52.167 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 01:09:52.230 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:09:52.899 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 01:09:52.970 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:09:52.990 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 1336.3006ms
2025-06-03 01:09:52.991 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:09:53.003 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1633.6278ms
2025-06-03 01:10:09.720 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 01:10:09.818 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:10:09.830 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 01:14:50.230 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:14:50.288 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:14:50.291 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:14:50.546 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 01:14:50.867 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 01:14:50.957 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:14:50.959 +04:00 [INF] Hosting environment: Development
2025-06-03 01:14:50.961 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 01:14:51.824 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 971.5446ms
2025-06-03 01:14:52.064 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 01:14:52.089 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 01:14:52.090 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 01:14:52.095 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 30.6362ms
2025-06-03 01:14:52.110 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 19.111ms
2025-06-03 01:14:52.290 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.7433ms
2025-06-03 01:14:52.436 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 01:14:52.602 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.248ms
2025-06-03 01:15:41.106 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 01:15:41.295 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:15:41.330 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 01:15:41.549 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 01:15:41.722 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 01:15:41.743 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:15:41.748 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:15:41.758 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 01:15:41.777 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 01:15:41.783 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:15:41.959 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 01:15:41.988 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:15:41.997 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 661.745ms
2025-06-03 01:15:41.998 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:15:42.003 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 901.1524ms
2025-06-03 01:16:02.046 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 01:16:02.139 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:16:02.151 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 01:16:14.856 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:16:14.903 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 01:16:14.977 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6932460-ca1d-4720-b842-70d857985e65
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6932460-ca1d-4720-b842-70d857985e65
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 01:16:15.168 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 13016.2015ms
2025-06-03 01:16:15.170 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:16:15.262 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6932460-ca1d-4720-b842-70d857985e65
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 62
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 01:16:15.311 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 13271.8808ms
2025-06-03 01:23:38.913 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:23:38.997 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:23:39.000 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:23:39.197 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 01:23:39.454 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 01:23:39.522 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:23:39.523 +04:00 [INF] Hosting environment: Development
2025-06-03 01:23:39.523 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 01:23:39.837 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 392.4073ms
2025-06-03 01:23:40.014 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 01:23:40.016 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 01:23:40.016 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 01:23:40.039 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 56.7372ms
2025-06-03 01:23:40.044 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 23.0893ms
2025-06-03 01:23:40.081 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.1318ms
2025-06-03 01:23:40.260 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 01:23:40.317 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.6168ms
2025-06-03 01:24:05.809 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 01:24:06.013 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:24:06.051 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 01:24:06.249 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 01:24:06.436 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 01:24:06.470 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:24:06.476 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:24:06.485 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 01:24:06.501 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 01:24:06.505 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:24:06.668 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 01:24:06.692 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:24:06.699 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 644.558ms
2025-06-03 01:24:06.700 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:24:06.704 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 901.1567ms
2025-06-03 01:26:38.620 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 01:26:38.733 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:26:38.747 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 01:26:45.315 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:26:45.355 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 01:26:45.443 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d23f1e6-f8f8-4940-90a9-ce74bf591af1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d23f1e6-f8f8-4940-90a9-ce74bf591af1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 01:26:45.629 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 6881.3197ms
2025-06-03 01:26:45.631 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:26:45.675 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d23f1e6-f8f8-4940-90a9-ce74bf591af1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 62
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 01:26:45.738 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 7127.5082ms
2025-06-03 01:27:53.912 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:27:53.963 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:27:53.968 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:27:54.167 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 01:27:54.615 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 01:27:54.736 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:27:54.739 +04:00 [INF] Hosting environment: Development
2025-06-03 01:27:54.741 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 01:27:55.190 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 585.0422ms
2025-06-03 01:27:55.524 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 01:27:55.524 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 01:27:55.565 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 01:27:55.600 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 71.7146ms
2025-06-03 01:27:55.607 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 68.7183ms
2025-06-03 01:27:55.873 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 307.335ms
2025-06-03 01:27:56.604 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 01:27:56.923 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 330.3145ms
2025-06-03 01:28:18.650 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 01:28:18.839 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:28:18.902 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 01:28:19.140 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 01:28:19.317 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 01:28:19.370 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:28:19.377 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 01:28:19.393 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 01:28:19.409 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 01:28:19.414 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 01:28:19.611 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 01:28:19.638 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:28:19.645 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 739.4106ms
2025-06-03 01:28:19.646 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 01:28:19.661 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1019.0103ms
2025-06-03 01:28:43.283 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-06-03 01:28:43.429 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:28:43.440 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-06-03 01:28:52.339 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:28:52.395 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-06-03 01:28:52.452 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:556c434b-2528-4342-8b82-9f5109a60da4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:556c434b-2528-4342-8b82-9f5109a60da4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 01:28:52.589 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 9148.7305ms
2025-06-03 01:28:52.591 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-06-03 01:28:52.638 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:556c434b-2528-4342-8b82-9f5109a60da4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 62
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-06-03 01:28:52.733 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 9449.4405ms
2025-06-03 16:00:43.611 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:00:43.671 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:00:43.673 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:00:43.850 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:00:44.280 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:00:44.327 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:00:44.329 +04:00 [INF] Hosting environment: Development
2025-06-03 16:00:44.329 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:00:45.242 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 981.4626ms
2025-06-03 16:00:45.483 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:00:45.483 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:00:45.516 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:00:45.518 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 39.6959ms
2025-06-03 16:00:45.533 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 56.6946ms
2025-06-03 16:00:45.679 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 163.8422ms
2025-06-03 16:00:45.790 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:00:45.952 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.3069ms
2025-06-03 16:01:03.313 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 16:01:03.506 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:01:03.537 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:01:03.749 +04:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-06-03 16:01:03.805 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 16:01:03.823 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 282.0793ms
2025-06-03 16:01:03.824 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:01:03.833 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 526.7262ms
2025-06-03 16:01:25.535 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 16:01:25.587 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:01:25.611 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:01:25.701 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-06-03 16:01:25.714 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 16:01:25.724 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 107.5916ms
2025-06-03 16:01:25.730 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:01:25.731 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 215.0636ms
2025-06-03 16:01:52.635 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 16:01:52.678 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:01:52.679 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:01:52.748 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-06-03 16:01:52.765 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 16:01:52.774 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 94.4683ms
2025-06-03 16:01:52.775 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:01:52.779 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 152.1815ms
2025-06-03 16:02:22.981 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:02:23.316 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:02:23.325 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:02:23.608 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:02:24.624 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:02:24.732 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:02:24.745 +04:00 [INF] Hosting environment: Development
2025-06-03 16:02:24.756 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:02:25.408 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 783.205ms
2025-06-03 16:02:25.562 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:02:25.565 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:02:25.574 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 9.5247ms
2025-06-03 16:02:25.677 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 116.8462ms
2025-06-03 16:02:25.679 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:02:25.806 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.0978ms
2025-06-03 16:02:26.077 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:02:26.208 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.4489ms
2025-06-03 16:02:36.945 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 16:02:37.154 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:02:37.221 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:02:50.074 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-06-03 16:08:11.314 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:08:11.400 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:08:11.403 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:08:11.721 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:08:12.442 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:08:12.514 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:08:12.515 +04:00 [INF] Hosting environment: Development
2025-06-03 16:08:12.516 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:08:12.886 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 459.7117ms
2025-06-03 16:08:13.133 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:08:13.133 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:08:13.134 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:08:13.158 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 25.0727ms
2025-06-03 16:08:13.158 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 17.0128ms
2025-06-03 16:08:13.254 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.7177ms
2025-06-03 16:08:13.370 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:08:13.556 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.0118ms
2025-06-03 16:08:21.202 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 16:08:21.373 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:08:21.406 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:08:21.789 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 16:08:21.939 +04:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [e].[Id], [e].[Engine], [b].[Id], [b].[Name], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [c0].[Id], [c0].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [BodyTypes] AS [b] ON [c].[BodyTypeId] = [b].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [e].[Id], [b].[Id], [f].[Id], [t].[Id], [c0].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 16:08:22.081 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 16:08:22.114 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 698.9976ms
2025-06-03 16:08:22.116 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:08:22.127 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 929.2494ms
2025-06-03 16:12:34.699 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:12:34.803 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:12:34.805 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:12:34.945 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:12:35.231 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:12:35.279 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:12:35.280 +04:00 [INF] Hosting environment: Development
2025-06-03 16:12:35.280 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:12:35.502 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 276.8879ms
2025-06-03 16:12:35.620 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:12:35.643 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:12:35.644 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:12:35.650 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 30.0794ms
2025-06-03 16:12:35.652 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 9.8687ms
2025-06-03 16:12:35.704 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.799ms
2025-06-03 16:12:35.829 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:12:35.942 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.6548ms
2025-06-03 16:12:52.980 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 16:12:53.177 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:12:53.208 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:12:53.445 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 16:12:53.496 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [e].[Id], [e].[Engine], [b].[Id], [b].[Name], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [c0].[Id], [c0].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [BodyTypes] AS [b] ON [c].[BodyTypeId] = [b].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [e].[Id], [b].[Id], [f].[Id], [t].[Id], [c0].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 16:12:53.603 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 16:12:53.621 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 409.7191ms
2025-06-03 16:12:53.623 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 16:12:53.631 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 662.9916ms
2025-06-03 16:13:22.372 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/4 - null null
2025-06-03 16:13:22.411 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 16:13:22.455 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:13:22.545 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-06-03 16:13:22.553 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 16:13:22.557 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 101.6823ms
2025-06-03 16:13:22.557 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 16:13:22.559 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/4 - 200 null application/json; charset=utf-8 199.7148ms
2025-06-03 16:22:33.022 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:22:33.071 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:22:33.074 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:22:33.285 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:22:33.696 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:22:33.832 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:22:33.833 +04:00 [INF] Hosting environment: Development
2025-06-03 16:22:33.833 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:22:34.416 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 730.3935ms
2025-06-03 16:22:34.919 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:22:34.919 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:22:34.918 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:22:34.952 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 34.5136ms
2025-06-03 16:22:34.957 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 45.7281ms
2025-06-03 16:22:35.079 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 161.2282ms
2025-06-03 16:22:35.286 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:22:35.449 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.7056ms
2025-06-03 16:22:49.925 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/4 - null null
2025-06-03 16:22:50.114 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 16:22:50.152 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 16:22:50.614 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 16:22:50.738 +04:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Barter], [t0].[BodyTypeId], [t0].[CityId], [t0].[CreatedAt], [t0].[Credit], [t0].[CurrencyType], [t0].[Description], [t0].[EngineSizeId], [t0].[FuelTypeId], [t0].[HP], [t0].[IsApproved], [t0].[IsSold], [t0].[Mileage], [t0].[ModelId], [t0].[Price], [t0].[RejectionReason], [t0].[SeatNumber], [t0].[StatusId], [t0].[TransmissionId], [t0].[UserId], [t0].[VinCode], [t0].[Year], [t0].[Id0], [t0].[BrandId], [t0].[Name], [t0].[Id1], [t0].[Name0], [t0].[Id2], [t0].[Engine], [t0].[Id3], [t0].[Name1], [t0].[Id4], [t0].[Name2], [t0].[Id5], [t0].[Name3], [t0].[Id6], [t0].[Name4], [t0].[Id7], [t0].[EndTime], [t0].[Name5], [t0].[Price0], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id] AS [Id0], [m].[BrandId], [m].[Name], [b].[Id] AS [Id1], [b].[Name] AS [Name0], [e].[Id] AS [Id2], [e].[Engine], [b0].[Id] AS [Id3], [b0].[Name] AS [Name1], [f].[Id] AS [Id4], [f].[Name] AS [Name2], [t].[Id] AS [Id5], [t].[Name] AS [Name3], [c0].[Id] AS [Id6], [c0].[Name] AS [Name4], [s].[Id] AS [Id7], [s].[EndTime], [s].[Name] AS [Name5], [s].[Price] AS [Price0]
    FROM [Cars] AS [c]
    INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
    INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
    INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
    INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
    INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
    INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
    INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
    INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t0]
LEFT JOIN [Favorites] AS [f0] ON [t0].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [t0].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [t0].[Id] = [f1].[CarId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t0].[Id3], [t0].[Id4], [t0].[Id5], [t0].[Id6], [t0].[Id7], [f0].[Id], [i].[Id]
2025-06-03 16:22:50.853 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 16:22:50.883 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 725.378ms
2025-06-03 16:22:50.886 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 16:22:50.898 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/4 - 200 null application/json; charset=utf-8 975.5775ms
2025-06-03 16:23:17.726 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/users - null null
2025-06-03 16:23:17.791 +04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-03 16:23:17.798 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-03 16:23:17.802 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/users - 401 null null 81.8115ms
2025-06-03 16:32:09.969 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:32:10.020 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:32:10.023 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:32:10.165 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:32:10.391 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:32:10.441 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:32:10.444 +04:00 [INF] Hosting environment: Development
2025-06-03 16:32:10.444 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:32:10.975 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 593.6269ms
2025-06-03 16:32:11.336 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:32:11.337 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:32:11.338 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:32:11.391 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 14.5656ms
2025-06-03 16:32:11.402 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 66.2517ms
2025-06-03 16:32:11.575 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 237.9715ms
2025-06-03 16:32:11.660 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:32:12.027 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 360.9331ms
2025-06-03 16:32:45.994 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 16:32:46.268 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 16:32:46.318 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 16:32:46.548 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 16:32:46.741 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 16:32:46.773 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 16:32:46.780 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:32:46.791 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 16:32:46.808 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 16:32:46.813 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 16:32:47.104 +04:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 16:32:47.147 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 16:32:47.157 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 836.1943ms
2025-06-03 16:32:47.158 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 16:32:47.166 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1175.8089ms
2025-06-03 16:33:04.562 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type - null null
2025-06-03 16:33:04.676 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 16:33:04.687 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 16:33:04.744 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BodyTypes] AS [b]
2025-06-03 16:33:04.770 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 16:33:04.775 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer) in 87.5221ms
2025-06-03 16:33:04.776 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 16:33:04.778 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type - 200 null application/json; charset=utf-8 220.5215ms
2025-06-03 16:34:23.373 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:34:23.503 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:34:23.507 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:34:23.914 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:34:24.604 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:34:24.649 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:34:24.667 +04:00 [INF] Hosting environment: Development
2025-06-03 16:34:24.668 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:34:25.009 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 410.4271ms
2025-06-03 16:34:25.210 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:34:25.210 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:34:25.210 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:34:25.221 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 44.321ms
2025-06-03 16:34:25.230 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 13.9094ms
2025-06-03 16:34:25.278 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.3494ms
2025-06-03 16:34:25.410 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:34:25.497 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.5235ms
2025-06-03 16:34:42.029 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type - null null
2025-06-03 16:34:42.238 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 16:34:42.267 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 16:34:42.422 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BodyTypes] AS [b]
2025-06-03 16:34:42.461 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 16:34:42.482 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer) in 210.9517ms
2025-06-03 16:34:42.485 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 16:34:42.495 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type - 200 null application/json; charset=utf-8 475.1571ms
2025-06-03 16:48:13.367 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:48:13.420 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:48:13.453 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 16:48:13.659 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 16:48:13.938 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 16:48:13.980 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:48:13.981 +04:00 [INF] Hosting environment: Development
2025-06-03 16:48:13.981 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 16:48:14.290 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 361.4172ms
2025-06-03 16:48:14.415 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 16:48:14.439 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 16:48:14.446 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 31.8645ms
2025-06-03 16:48:14.458 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 16:48:14.460 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 18.6195ms
2025-06-03 16:48:14.530 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.3986ms
2025-06-03 16:48:14.706 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 16:48:14.845 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.809ms
2025-06-03 17:27:50.970 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 17:27:51.126 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 17:27:51.166 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 17:27:51.419 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 17:27:51.663 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 17:27:51.687 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 17:27:51.693 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:27:51.699 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 17:27:51.718 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 17:27:51.725 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 17:27:51.932 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 17:27:51.961 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:27:51.971 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 800.7665ms
2025-06-03 17:27:51.973 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 17:27:51.980 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1013.5063ms
2025-06-03 17:28:12.611 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type - null null
2025-06-03 17:28:12.703 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 17:28:12.714 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 17:28:12.754 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BodyTypes] AS [b]
2025-06-03 17:28:12.780 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:28:12.785 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer) in 69.8419ms
2025-06-03 17:28:12.785 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 17:28:12.786 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type - 200 null application/json; charset=utf-8 182.4638ms
2025-06-03 17:29:02.919 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/body-type - application/json 26
2025-06-03 17:29:02.970 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.CreateBodyType (TurboProject.APILayer)'
2025-06-03 17:29:02.993 +04:00 [INF] Route matched with {action = "CreateBodyType", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBodyType(TurboProject.BusinessLayer.Model.DTO.Request.BodyType.CreateBodyTypeDto) on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 17:29:03.078 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BodyTypes] AS [b]
        WHERE [b].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 17:29:03.111 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BodyTypes] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-06-03 17:29:03.114 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 17:29:03.116 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.CreateBodyType (TurboProject.APILayer) in 123.038ms
2025-06-03 17:29:03.117 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.CreateBodyType (TurboProject.APILayer)'
2025-06-03 17:29:03.118 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/body-type - 200 null application/json; charset=utf-8 209.576ms
2025-06-03 17:29:09.559 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type - null null
2025-06-03 17:29:09.584 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 17:29:09.586 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 17:29:09.638 +04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BodyTypes] AS [b]
2025-06-03 17:29:09.645 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:29:09.647 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer) in 60.6031ms
2025-06-03 17:29:09.647 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 17:29:09.648 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type - 200 null application/json; charset=utf-8 93.1012ms
2025-06-03 17:29:23.457 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type/5 - null null
2025-06-03 17:29:23.478 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetById (TurboProject.APILayer)'
2025-06-03 17:29:23.512 +04:00 [INF] Route matched with {action = "GetById", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 17:29:23.616 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Name]
FROM [BodyTypes] AS [b]
WHERE [b].[Id] = @__p_0
2025-06-03 17:29:23.620 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:29:23.628 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetById (TurboProject.APILayer) in 116.0325ms
2025-06-03 17:29:23.628 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetById (TurboProject.APILayer)'
2025-06-03 17:29:23.630 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type/5 - 200 null application/json; charset=utf-8 178.6588ms
2025-06-03 17:29:33.344 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/brand - null null
2025-06-03 17:29:33.355 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer)'
2025-06-03 17:29:33.368 +04:00 [INF] Route matched with {action = "GetAllBrands", controller = "Brand"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBrands() on controller TurboProject.APILayer.Controllers.BrandController (TurboProject.APILayer).
2025-06-03 17:29:33.450 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [Brands] AS [b]
2025-06-03 17:29:33.488 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Brand.GetBrandDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:29:33.492 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer) in 122.3738ms
2025-06-03 17:29:33.492 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer)'
2025-06-03 17:29:33.493 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/brand - 200 null application/json; charset=utf-8 153.6539ms
2025-06-03 17:30:28.917 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/brand - application/json 19
2025-06-03 17:30:28.954 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BrandController.CreateBrand (TurboProject.APILayer)'
2025-06-03 17:30:28.978 +04:00 [INF] Route matched with {action = "CreateBrand", controller = "Brand"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBrand(TurboProject.BusinessLayer.Model.DTO.Request.Brand.CreateBrandDto) on controller TurboProject.APILayer.Controllers.BrandController (TurboProject.APILayer).
2025-06-03 17:30:29.059 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[@__name_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE [b].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 17:30:29.090 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-06-03 17:30:29.095 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 17:30:29.099 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BrandController.CreateBrand (TurboProject.APILayer) in 120.1696ms
2025-06-03 17:30:29.101 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BrandController.CreateBrand (TurboProject.APILayer)'
2025-06-03 17:30:29.104 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/brand - 200 null application/json; charset=utf-8 203.6358ms
2025-06-03 17:30:33.796 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/brand - null null
2025-06-03 17:30:33.822 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer)'
2025-06-03 17:30:33.826 +04:00 [INF] Route matched with {action = "GetAllBrands", controller = "Brand"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBrands() on controller TurboProject.APILayer.Controllers.BrandController (TurboProject.APILayer).
2025-06-03 17:30:33.865 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [Brands] AS [b]
2025-06-03 17:30:33.868 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Brand.GetBrandDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:30:33.871 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer) in 43.7965ms
2025-06-03 17:30:33.871 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer)'
2025-06-03 17:30:33.873 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/brand - 200 null application/json; charset=utf-8 80.3533ms
2025-06-03 17:32:08.393 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:32:08.436 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:32:08.439 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:32:08.599 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 17:32:08.830 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 17:32:08.877 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:32:08.879 +04:00 [INF] Hosting environment: Development
2025-06-03 17:32:08.879 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 17:32:09.155 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 331.824ms
2025-06-03 17:32:09.301 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 17:32:09.301 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 17:32:09.304 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 17:32:09.308 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 8.8115ms
2025-06-03 17:32:09.312 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 9.2943ms
2025-06-03 17:32:09.375 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.3246ms
2025-06-03 17:32:09.546 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 17:32:09.828 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 274.1887ms
2025-06-03 17:34:59.863 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:34:59.908 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:34:59.911 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:35:00.120 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 17:35:00.443 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 17:35:00.542 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:35:00.545 +04:00 [INF] Hosting environment: Development
2025-06-03 17:35:00.549 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 17:35:01.139 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 707.6447ms
2025-06-03 17:35:01.533 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 17:35:01.533 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 17:35:01.541 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 17:35:01.591 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 49.4909ms
2025-06-03 17:35:01.629 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 97.6728ms
2025-06-03 17:35:01.700 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 168.8526ms
2025-06-03 17:35:02.019 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 17:35:02.252 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.2075ms
2025-06-03 17:36:42.092 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 17:36:42.289 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 17:36:42.325 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 17:36:42.491 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 17:36:42.670 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 17:36:42.706 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 17:36:42.714 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:36:42.730 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 17:36:42.770 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 17:36:42.778 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 17:36:43.093 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 17:36:43.120 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:36:43.129 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 800.6638ms
2025-06-03 17:36:43.131 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 17:36:43.141 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1056.3076ms
2025-06-03 17:37:25.454 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?City=Baku - null null
2025-06-03 17:37:25.563 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-06-03 17:37:25.582 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:37:25.616 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-03 17:37:25.666 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 83.03ms
2025-06-03 17:37:25.667 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-06-03 17:37:25.668 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?City=Baku - 400 null application/problem+json; charset=utf-8 223.5547ms
2025-06-03 17:39:16.276 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:39:16.355 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:39:16.358 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:39:16.535 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 17:39:16.776 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 17:39:16.814 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:39:16.815 +04:00 [INF] Hosting environment: Development
2025-06-03 17:39:16.815 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 17:39:17.177 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 407.8197ms
2025-06-03 17:39:17.375 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 17:39:17.375 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 17:39:17.378 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 17:39:17.381 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 6.2921ms
2025-06-03 17:39:17.393 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 16.3061ms
2025-06-03 17:39:17.451 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.8697ms
2025-06-03 17:39:17.644 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 17:39:17.689 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.1322ms
2025-06-03 17:39:27.356 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 17:39:27.550 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:39:27.588 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:39:27.884 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 17:39:27.925 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [e].[Id], [e].[Engine], [b].[Id], [b].[Name], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [c0].[Id], [c0].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [BodyTypes] AS [b] ON [c].[BodyTypeId] = [b].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [e].[Id], [b].[Id], [f].[Id], [t].[Id], [c0].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 17:39:28.014 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 17:39:28.040 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 445.8247ms
2025-06-03 17:39:28.041 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:39:28.049 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 695.36ms
2025-06-03 17:43:47.004 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:43:47.049 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:43:47.051 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:43:47.199 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 17:43:47.513 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 17:43:47.556 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:43:47.560 +04:00 [INF] Hosting environment: Development
2025-06-03 17:43:47.560 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 17:43:47.811 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 310.5782ms
2025-06-03 17:43:47.970 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 17:43:47.980 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 17:43:47.981 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 17:43:48.010 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 55.0784ms
2025-06-03 17:43:48.021 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 31.6752ms
2025-06-03 17:43:48.140 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 158.9176ms
2025-06-03 17:43:48.329 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 17:43:48.394 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.717ms
2025-06-03 17:43:56.954 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 17:43:57.143 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:43:57.176 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:43:57.472 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 17:43:57.520 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [e].[Id], [e].[Engine], [b].[Id], [b].[Name], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [c0].[Id], [c0].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [BodyTypes] AS [b] ON [c].[BodyTypeId] = [b].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [e].[Id], [b].[Id], [f].[Id], [t].[Id], [c0].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 17:43:57.718 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 17:43:57.774 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 592.3197ms
2025-06-03 17:43:57.778 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:43:57.804 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 846.8353ms
2025-06-03 17:48:58.413 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:48:58.457 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:48:58.459 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 17:48:58.601 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 17:48:58.866 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 17:48:58.960 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:48:58.963 +04:00 [INF] Hosting environment: Development
2025-06-03 17:48:58.966 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 17:48:59.277 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 421.4403ms
2025-06-03 17:48:59.378 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 17:48:59.402 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 17:48:59.409 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 32.0492ms
2025-06-03 17:48:59.412 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 17:48:59.412 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 10.3681ms
2025-06-03 17:48:59.460 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.2832ms
2025-06-03 17:48:59.629 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 17:48:59.746 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.8543ms
2025-06-03 17:49:15.069 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 17:49:15.267 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:49:15.303 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:49:15.579 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 17:49:15.661 +04:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [b].[Id], [b].[Name], [b0].[Id], [b0].[Name], [c0].[Id], [c0].[Name], [e].[Id], [e].[Engine], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [b].[Id], [b0].[Id], [c0].[Id], [e].[Id], [f].[Id], [t].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 17:49:15.754 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 17:49:15.780 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 473.0307ms
2025-06-03 17:49:15.781 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:49:15.790 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 723.0795ms
2025-06-03 17:49:31.649 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/4 - null null
2025-06-03 17:49:31.680 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 17:49:31.703 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:49:31.768 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 17:49:31.807 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Barter], [t0].[BodyTypeId], [t0].[CityId], [t0].[CreatedAt], [t0].[Credit], [t0].[CurrencyType], [t0].[Description], [t0].[EngineSizeId], [t0].[FuelTypeId], [t0].[HP], [t0].[IsApproved], [t0].[IsSold], [t0].[Mileage], [t0].[ModelId], [t0].[Price], [t0].[RejectionReason], [t0].[SeatNumber], [t0].[StatusId], [t0].[TransmissionId], [t0].[UserId], [t0].[VinCode], [t0].[Year], [t0].[Id0], [t0].[BrandId], [t0].[Name], [t0].[Id1], [t0].[Name0], [t0].[Id2], [t0].[Engine], [t0].[Id3], [t0].[Name1], [t0].[Id4], [t0].[Name2], [t0].[Id5], [t0].[Name3], [t0].[Id6], [t0].[Name4], [t0].[Id7], [t0].[EndTime], [t0].[Name5], [t0].[Price0], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id] AS [Id0], [m].[BrandId], [m].[Name], [b].[Id] AS [Id1], [b].[Name] AS [Name0], [e].[Id] AS [Id2], [e].[Engine], [b0].[Id] AS [Id3], [b0].[Name] AS [Name1], [f].[Id] AS [Id4], [f].[Name] AS [Name2], [t].[Id] AS [Id5], [t].[Name] AS [Name3], [c0].[Id] AS [Id6], [c0].[Name] AS [Name4], [s].[Id] AS [Id7], [s].[EndTime], [s].[Name] AS [Name5], [s].[Price] AS [Price0]
    FROM [Cars] AS [c]
    INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
    INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
    INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
    INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
    INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
    INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
    INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
    INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t0]
LEFT JOIN [Favorites] AS [f0] ON [t0].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [t0].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [t0].[Id] = [f1].[CarId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t0].[Id3], [t0].[Id4], [t0].[Id5], [t0].[Id6], [t0].[Id7], [f0].[Id], [i].[Id]
2025-06-03 17:49:31.815 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:49:31.820 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 116.5547ms
2025-06-03 17:49:31.821 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 17:49:31.822 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/4 - 200 null application/json; charset=utf-8 180.9601ms
2025-06-03 17:52:13.152 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 17:52:13.330 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 180.6757ms
2025-06-03 17:52:13.676 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 17:52:13.706 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 17:52:13.708 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 17:52:13.721 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 14.507ms
2025-06-03 17:52:13.726 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 20.1862ms
2025-06-03 17:52:13.739 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.7462ms
2025-06-03 17:52:13.936 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 17:52:13.996 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.5737ms
2025-06-03 17:52:23.235 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 17:52:23.289 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:52:23.324 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:52:23.433 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [b].[Id], [b].[Name], [b0].[Id], [b0].[Name], [c0].[Id], [c0].[Name], [e].[Id], [e].[Engine], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [b].[Id], [b0].[Id], [c0].[Id], [e].[Id], [f].[Id], [t].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 17:52:23.451 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 17:52:23.468 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 140.3717ms
2025-06-03 17:52:23.468 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 17:52:23.470 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 241.6634ms
2025-06-03 17:53:04.856 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/4 - null null
2025-06-03 17:53:04.875 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 17:53:04.885 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 17:53:04.923 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Barter], [t0].[BodyTypeId], [t0].[CityId], [t0].[CreatedAt], [t0].[Credit], [t0].[CurrencyType], [t0].[Description], [t0].[EngineSizeId], [t0].[FuelTypeId], [t0].[HP], [t0].[IsApproved], [t0].[IsSold], [t0].[Mileage], [t0].[ModelId], [t0].[Price], [t0].[RejectionReason], [t0].[SeatNumber], [t0].[StatusId], [t0].[TransmissionId], [t0].[UserId], [t0].[VinCode], [t0].[Year], [t0].[Id0], [t0].[BrandId], [t0].[Name], [t0].[Id1], [t0].[Name0], [t0].[Id2], [t0].[Engine], [t0].[Id3], [t0].[Name1], [t0].[Id4], [t0].[Name2], [t0].[Id5], [t0].[Name3], [t0].[Id6], [t0].[Name4], [t0].[Id7], [t0].[EndTime], [t0].[Name5], [t0].[Price0], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id] AS [Id0], [m].[BrandId], [m].[Name], [b].[Id] AS [Id1], [b].[Name] AS [Name0], [e].[Id] AS [Id2], [e].[Engine], [b0].[Id] AS [Id3], [b0].[Name] AS [Name1], [f].[Id] AS [Id4], [f].[Name] AS [Name2], [t].[Id] AS [Id5], [t].[Name] AS [Name3], [c0].[Id] AS [Id6], [c0].[Name] AS [Name4], [s].[Id] AS [Id7], [s].[EndTime], [s].[Name] AS [Name5], [s].[Price] AS [Price0]
    FROM [Cars] AS [c]
    INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
    INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
    INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
    INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
    INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
    INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
    INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
    INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t0]
LEFT JOIN [Favorites] AS [f0] ON [t0].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [t0].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [t0].[Id] = [f1].[CarId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t0].[Id3], [t0].[Id4], [t0].[Id5], [t0].[Id6], [t0].[Id7], [f0].[Id], [i].[Id]
2025-06-03 17:53:04.935 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 17:53:04.938 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 53.0462ms
2025-06-03 17:53:04.939 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 17:53:04.939 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/4 - 200 null application/json; charset=utf-8 85.0386ms
2025-06-03 18:06:14.711 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/car - application/json 334
2025-06-03 18:06:14.754 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-03 18:06:14.761 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-03 18:06:14.771 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/car - 401 null null 67.6657ms
2025-06-03 18:07:29.282 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-06-03 18:07:29.343 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 18:07:29.362 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 18:07:29.535 +04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 18:07:29.720 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 18:07:29.761 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 18:07:29.787 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:07:29.821 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 18:07:29.928 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 18:07:29.942 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 18:07:30.118 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 18:07:30.136 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:07:30.139 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 777.051ms
2025-06-03 18:07:30.140 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 18:07:30.141 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 865.5363ms
2025-06-03 18:08:50.015 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/model - null null
2025-06-03 18:08:50.137 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer)'
2025-06-03 18:08:50.145 +04:00 [INF] Route matched with {action = "GetAllModels", controller = "Model"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllModels() on controller TurboProject.APILayer.Controllers.ModelController (TurboProject.APILayer).
2025-06-03 18:08:50.221 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[BrandId], [m].[Name]
FROM [Models] AS [m]
2025-06-03 18:08:50.238 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.CarsModel.GetModelResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:08:50.247 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer) in 101.6741ms
2025-06-03 18:08:50.248 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer)'
2025-06-03 18:08:50.250 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/model - 200 null application/json; charset=utf-8 237.7577ms
2025-06-03 18:09:41.250 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/engine-size - null null
2025-06-03 18:09:41.269 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.EngineSizeController.GetAllSizes (TurboProject.APILayer)'
2025-06-03 18:09:41.277 +04:00 [INF] Route matched with {action = "GetAllSizes", controller = "EngineSize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSizes() on controller TurboProject.APILayer.Controllers.EngineSizeController (TurboProject.APILayer).
2025-06-03 18:09:41.323 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Engine]
FROM [EngineSizes] AS [e]
2025-06-03 18:09:41.383 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.EngineSize.GetEngineSizeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:09:41.399 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.EngineSizeController.GetAllSizes (TurboProject.APILayer) in 122.2662ms
2025-06-03 18:09:41.400 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.EngineSizeController.GetAllSizes (TurboProject.APILayer)'
2025-06-03 18:09:41.401 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/engine-size - 200 null application/json; charset=utf-8 155.4505ms
2025-06-03 18:10:07.365 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type - null null
2025-06-03 18:10:07.378 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 18:10:07.388 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-06-03 18:10:07.457 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BodyTypes] AS [b]
2025-06-03 18:10:07.466 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:10:07.471 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer) in 82.6522ms
2025-06-03 18:10:07.472 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 18:10:07.477 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type - 200 null application/json; charset=utf-8 111.8332ms
2025-06-03 18:10:34.300 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/fuel-type - null null
2025-06-03 18:10:34.317 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FuelTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 18:10:34.328 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "FuelType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.FuelTypeController (TurboProject.APILayer).
2025-06-03 18:10:34.385 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Name]
FROM [FuelTypes] AS [f]
2025-06-03 18:10:34.422 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.FuelType.GetFuelTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:10:34.430 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FuelTypeController.GetAllTypes (TurboProject.APILayer) in 101.7021ms
2025-06-03 18:10:34.431 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FuelTypeController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 18:10:34.432 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/fuel-type - 200 null application/json; charset=utf-8 135.6745ms
2025-06-03 18:10:55.635 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/transmission - null null
2025-06-03 18:10:55.649 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.TransmissionController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 18:10:55.656 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "Transmission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.TransmissionController (TurboProject.APILayer).
2025-06-03 18:10:55.709 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Transmissions] AS [t]
2025-06-03 18:10:55.741 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Transmission.GetTransmissionTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:10:55.746 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.TransmissionController.GetAllTypes (TurboProject.APILayer) in 90.159ms
2025-06-03 18:10:55.746 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.TransmissionController.GetAllTypes (TurboProject.APILayer)'
2025-06-03 18:10:55.747 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/transmission - 200 null application/json; charset=utf-8 114.1735ms
2025-06-03 18:11:13.186 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/city - null null
2025-06-03 18:11:13.208 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CityController.GetAllCities (TurboProject.APILayer)'
2025-06-03 18:11:13.232 +04:00 [INF] Route matched with {action = "GetAllCities", controller = "City"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCities() on controller TurboProject.APILayer.Controllers.CityController (TurboProject.APILayer).
2025-06-03 18:11:13.291 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Cities] AS [c]
2025-06-03 18:11:13.303 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.City.GetCityDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:11:13.308 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CityController.GetAllCities (TurboProject.APILayer) in 75.3272ms
2025-06-03 18:11:13.308 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CityController.GetAllCities (TurboProject.APILayer)'
2025-06-03 18:11:13.312 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/city - 200 null application/json; charset=utf-8 127.9203ms
2025-06-03 18:11:38.567 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/Status - null null
2025-06-03 18:11:38.616 +04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-03 18:11:38.636 +04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-03 18:11:38.639 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/Status - 403 null null 74.3254ms
2025-06-03 18:13:09.752 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/car - application/json 387
2025-06-03 18:13:09.827 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.CreateCar (TurboProject.APILayer)'
2025-06-03 18:13:09.845 +04:00 [INF] Route matched with {action = "CreateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCar(TurboProject.BusinessLayer.Model.DTO.Request.Car.CreateCarRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:13:10.044 +04:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cars] ([Barter], [BodyTypeId], [CityId], [CreatedAt], [Credit], [CurrencyType], [Description], [EngineSizeId], [FuelTypeId], [HP], [IsApproved], [IsSold], [Mileage], [ModelId], [Price], [RejectionReason], [SeatNumber], [StatusId], [TransmissionId], [UserId], [VinCode], [Year])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-06-03 18:13:10.053 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:13:10.056 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.CreateCar (TurboProject.APILayer) in 210.0472ms
2025-06-03 18:13:10.056 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.CreateCar (TurboProject.APILayer)'
2025-06-03 18:13:10.057 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/car - 200 null application/json; charset=utf-8 315.332ms
2025-06-03 18:13:29.504 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 18:13:29.517 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:13:29.522 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:13:29.545 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [b].[Id], [b].[Name], [b0].[Id], [b0].[Name], [c0].[Id], [c0].[Name], [e].[Id], [e].[Engine], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [b].[Id], [b0].[Id], [c0].[Id], [e].[Id], [f].[Id], [t].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 18:13:29.555 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:13:29.557 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 35.0893ms
2025-06-03 18:13:29.558 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:13:29.559 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 63.648ms
2025-06-03 18:13:58.965 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 18:13:58.982 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:13:58.983 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:13:59.015 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [b].[Id], [b].[Name], [b0].[Id], [b0].[Name], [c0].[Id], [c0].[Name], [e].[Id], [e].[Engine], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [b].[Id], [b0].[Id], [c0].[Id], [e].[Id], [f].[Id], [t].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 18:13:59.075 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:13:59.078 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 94.0195ms
2025-06-03 18:13:59.078 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:13:59.079 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 158.0316ms
2025-06-03 18:14:08.838 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 18:14:08.855 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:14:08.856 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:14:08.890 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [b].[Id], [b].[Name], [b0].[Id], [b0].[Name], [c0].[Id], [c0].[Name], [e].[Id], [e].[Engine], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [b].[Id], [b0].[Id], [c0].[Id], [e].[Id], [f].[Id], [t].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 18:14:08.897 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:14:08.899 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 42.3662ms
2025-06-03 18:14:08.899 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:14:08.900 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 64.5493ms
2025-06-03 18:14:30.077 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/4 - null null
2025-06-03 18:14:30.090 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 18:14:30.091 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:14:30.178 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Barter], [t0].[BodyTypeId], [t0].[CityId], [t0].[CreatedAt], [t0].[Credit], [t0].[CurrencyType], [t0].[Description], [t0].[EngineSizeId], [t0].[FuelTypeId], [t0].[HP], [t0].[IsApproved], [t0].[IsSold], [t0].[Mileage], [t0].[ModelId], [t0].[Price], [t0].[RejectionReason], [t0].[SeatNumber], [t0].[StatusId], [t0].[TransmissionId], [t0].[UserId], [t0].[VinCode], [t0].[Year], [t0].[Id0], [t0].[BrandId], [t0].[Name], [t0].[Id1], [t0].[Name0], [t0].[Id2], [t0].[Engine], [t0].[Id3], [t0].[Name1], [t0].[Id4], [t0].[Name2], [t0].[Id5], [t0].[Name3], [t0].[Id6], [t0].[Name4], [t0].[Id7], [t0].[EndTime], [t0].[Name5], [t0].[Price0], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id] AS [Id0], [m].[BrandId], [m].[Name], [b].[Id] AS [Id1], [b].[Name] AS [Name0], [e].[Id] AS [Id2], [e].[Engine], [b0].[Id] AS [Id3], [b0].[Name] AS [Name1], [f].[Id] AS [Id4], [f].[Name] AS [Name2], [t].[Id] AS [Id5], [t].[Name] AS [Name3], [c0].[Id] AS [Id6], [c0].[Name] AS [Name4], [s].[Id] AS [Id7], [s].[EndTime], [s].[Name] AS [Name5], [s].[Price] AS [Price0]
    FROM [Cars] AS [c]
    INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
    INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
    INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
    INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
    INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
    INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
    INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
    INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t0]
LEFT JOIN [Favorites] AS [f0] ON [t0].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [t0].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [t0].[Id] = [f1].[CarId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t0].[Id3], [t0].[Id4], [t0].[Id5], [t0].[Id6], [t0].[Id7], [f0].[Id], [i].[Id]
2025-06-03 18:14:30.185 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:14:30.189 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 97.5872ms
2025-06-03 18:14:30.189 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 18:14:30.190 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/4 - 200 null application/json; charset=utf-8 115.0442ms
2025-06-03 18:14:33.636 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/5 - null null
2025-06-03 18:14:33.645 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 18:14:33.646 +04:00 [INF] Route matched with {action = "GetCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCar(Int32) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:14:33.675 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Barter], [t0].[BodyTypeId], [t0].[CityId], [t0].[CreatedAt], [t0].[Credit], [t0].[CurrencyType], [t0].[Description], [t0].[EngineSizeId], [t0].[FuelTypeId], [t0].[HP], [t0].[IsApproved], [t0].[IsSold], [t0].[Mileage], [t0].[ModelId], [t0].[Price], [t0].[RejectionReason], [t0].[SeatNumber], [t0].[StatusId], [t0].[TransmissionId], [t0].[UserId], [t0].[VinCode], [t0].[Year], [t0].[Id0], [t0].[BrandId], [t0].[Name], [t0].[Id1], [t0].[Name0], [t0].[Id2], [t0].[Engine], [t0].[Id3], [t0].[Name1], [t0].[Id4], [t0].[Name2], [t0].[Id5], [t0].[Name3], [t0].[Id6], [t0].[Name4], [t0].[Id7], [t0].[EndTime], [t0].[Name5], [t0].[Price0], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id] AS [Id0], [m].[BrandId], [m].[Name], [b].[Id] AS [Id1], [b].[Name] AS [Name0], [e].[Id] AS [Id2], [e].[Engine], [b0].[Id] AS [Id3], [b0].[Name] AS [Name1], [f].[Id] AS [Id4], [f].[Name] AS [Name2], [t].[Id] AS [Id5], [t].[Name] AS [Name3], [c0].[Id] AS [Id6], [c0].[Name] AS [Name4], [s].[Id] AS [Id7], [s].[EndTime], [s].[Name] AS [Name5], [s].[Price] AS [Price0]
    FROM [Cars] AS [c]
    INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
    INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
    INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
    INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
    INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
    INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
    INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
    INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t0]
LEFT JOIN [Favorites] AS [f0] ON [t0].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [t0].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [t0].[Id] = [f1].[CarId]
ORDER BY [t0].[Id], [t0].[Id0], [t0].[Id1], [t0].[Id2], [t0].[Id3], [t0].[Id4], [t0].[Id5], [t0].[Id6], [t0].[Id7], [f0].[Id], [i].[Id]
2025-06-03 18:14:33.680 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:14:33.681 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer) in 34.2727ms
2025-06-03 18:14:33.682 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetCar (TurboProject.APILayer)'
2025-06-03 18:14:33.682 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/5 - 200 null application/json; charset=utf-8 49.4089ms
2025-06-03 18:17:26.474 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:17:26.547 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:17:26.555 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:17:26.835 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 18:17:27.348 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 18:17:27.412 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 18:17:27.415 +04:00 [INF] Hosting environment: Development
2025-06-03 18:17:27.416 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 18:17:27.736 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 392.0014ms
2025-06-03 18:17:27.922 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 18:17:27.922 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 18:17:27.940 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 18:17:27.945 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 23.2183ms
2025-06-03 18:17:27.946 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 23.2362ms
2025-06-03 18:17:28.039 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.1514ms
2025-06-03 18:17:28.240 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 18:17:28.303 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.489ms
2025-06-03 18:17:52.429 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 18:17:52.622 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 18:17:52.656 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 18:17:52.940 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 18:17:53.194 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 18:17:53.234 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 18:17:53.239 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:17:53.246 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 18:17:53.271 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 18:17:53.277 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 18:17:53.496 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 18:17:53.529 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:17:53.540 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 879.7086ms
2025-06-03 18:17:53.542 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 18:17:53.555 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1133.486ms
2025-06-03 18:21:25.036 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:21:25.081 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:21:25.085 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:21:25.239 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-03 18:21:25.537 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-06-03 18:21:25.642 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 18:21:25.647 +04:00 [INF] Hosting environment: Development
2025-06-03 18:21:25.648 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-06-03 18:21:25.925 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 396.61ms
2025-06-03 18:21:26.108 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-06-03 18:21:26.108 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-06-03 18:21:26.108 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 18:21:26.133 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 25.3755ms
2025-06-03 18:21:26.137 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 28.7934ms
2025-06-03 18:21:26.362 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 253.3232ms
2025-06-03 18:21:26.599 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-06-03 18:21:26.760 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 228.4526ms
2025-06-03 18:21:49.003 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-06-03 18:21:49.221 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 18:21:49.251 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-06-03 18:21:49.448 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-06-03 18:21:49.866 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-06-03 18:21:49.910 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 18:21:49.920 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-06-03 18:21:49.937 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-06-03 18:21:49.983 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-06-03 18:21:49.999 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-06-03 18:21:51.400 +04:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 18:21:51.675 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 18:21:51.750 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 2480.092ms
2025-06-03 18:21:51.758 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-06-03 18:21:51.785 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 2796.9918ms
2025-06-03 18:22:14.744 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/approve-car/5 - null 0
2025-06-03 18:22:14.849 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.ApproveCar (TurboProject.APILayer)'
2025-06-03 18:22:14.865 +04:00 [INF] Route matched with {action = "ApproveCar", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveCar(Int32) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-06-03 18:22:14.975 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-06-03 18:22:15.104 +04:00 [INF] Executed DbCommand (63ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cars] SET [Barter] = @p0, [BodyTypeId] = @p1, [CityId] = @p2, [CreatedAt] = @p3, [Credit] = @p4, [CurrencyType] = @p5, [Description] = @p6, [EngineSizeId] = @p7, [FuelTypeId] = @p8, [HP] = @p9, [IsApproved] = @p10, [IsSold] = @p11, [Mileage] = @p12, [ModelId] = @p13, [Price] = @p14, [RejectionReason] = @p15, [SeatNumber] = @p16, [StatusId] = @p17, [TransmissionId] = @p18, [UserId] = @p19, [VinCode] = @p20, [Year] = @p21
OUTPUT 1
WHERE [Id] = @p22;
2025-06-03 18:22:15.109 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:22:15.115 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.ApproveCar (TurboProject.APILayer) in 249.5566ms
2025-06-03 18:22:15.115 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.ApproveCar (TurboProject.APILayer)'
2025-06-03 18:22:15.116 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/approve-car/5 - 200 null application/json; charset=utf-8 382.9113ms
2025-06-03 18:22:23.168 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-06-03 18:22:23.189 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:22:23.197 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-06-03 18:22:23.288 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-03 18:22:23.332 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [b].[Id], [b].[Name], [b0].[Id], [b0].[Name], [c0].[Id], [c0].[Name], [e].[Id], [e].[Engine], [f].[Id], [f].[Name], [t].[Id], [t].[Name], [s].[Id], [s].[EndTime], [s].[Name], [s].[Price], [f0].[Id], [f0].[CarId], [f0].[CreatedAt], [f0].[UserId], [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary], [f1].[Id], [f1].[CarId], [f1].[Name]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Brands] AS [b] ON [m].[BrandId] = [b].[Id]
INNER JOIN [BodyTypes] AS [b0] ON [c].[BodyTypeId] = [b0].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [EngineSizes] AS [e] ON [c].[EngineSizeId] = [e].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Statuses] AS [s] ON [c].[StatusId] = [s].[Id]
LEFT JOIN [Favorites] AS [f0] ON [c].[Id] = [f0].[CarId]
LEFT JOIN [Images] AS [i] ON [c].[Id] = [i].[CarId]
LEFT JOIN [Features] AS [f1] ON [c].[Id] = [f1].[CarId]
WHERE [c].[IsApproved] = CAST(1 AS bit)
ORDER BY [c].[Id], [m].[Id], [b].[Id], [b0].[Id], [c0].[Id], [e].[Id], [f].[Id], [t].[Id], [s].[Id], [f0].[Id], [i].[Id]
2025-06-03 18:22:23.392 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 18:22:23.407 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 208.4586ms
2025-06-03 18:22:23.408 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-06-03 18:22:23.410 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 250.3578ms
