2025-05-24 12:10:14.990 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:10:15.102 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:10:15.104 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:10:15.562 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 12:10:16.372 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 12:10:16.606 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 12:10:16.609 +04:00 [INF] Hosting environment: Development
2025-05-24 12:10:16.610 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 12:10:18.478 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 12:10:18.624 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 12:10:18.693 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 12:10:18.766 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 2372.6708ms
2025-05-24 12:10:18.779 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 149.8987ms
2025-05-24 12:10:18.778 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 357.7782ms
2025-05-24 12:10:19.009 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 312.9414ms
2025-05-24 12:10:19.924 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 12:10:20.220 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 654.7034ms
2025-05-24 12:11:11.006 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?City=Baki - null null
2025-05-24 12:11:11.389 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 12:11:11.442 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 12:11:11.713 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-24 12:11:11.847 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 397.0532ms
2025-05-24 12:11:11.849 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 12:11:11.862 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?City=Baki - 400 null application/problem+json; charset=utf-8 861.3219ms
2025-05-24 12:13:47.164 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Sedan&City=Baki - null null
2025-05-24 12:13:47.247 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 12:13:47.251 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 12:13:47.671 +04:00 [INF] Executed DbCommand (116ms) [Parameters=[@__model_Model_0='?' (Size = 450), @__model_City_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [f].[Id], [f].[FuelTypeName], [t].[Id], [t].[TransmissionName], [c0].[Id], [c0].[CityName]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
WHERE [m].[Name] = @__model_Model_0 AND [c0].[CityName] = @__model_City_1
2025-05-24 12:13:47.763 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 12:13:47.776 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 524.2107ms
2025-05-24 12:13:47.777 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 12:13:47.783 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Sedan&City=Baki - 200 null application/json; charset=utf-8 642.47ms
2025-05-24 12:14:33.910 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?Model=X5&Category=Sedan&City=Baki - null null
2025-05-24 12:14:33.944 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 12:14:33.945 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 12:14:33.993 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__model_Model_0='?' (Size = 450), @__model_City_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [f].[Id], [f].[FuelTypeName], [t].[Id], [t].[TransmissionName], [c0].[Id], [c0].[CityName]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
WHERE [m].[Name] = @__model_Model_0 AND [c0].[CityName] = @__model_City_1
2025-05-24 12:14:33.996 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 12:14:34.001 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 54.9725ms
2025-05-24 12:14:34.001 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 12:14:34.002 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?Model=X5&Category=Sedan&City=Baki - 200 null application/json; charset=utf-8 100.391ms
2025-05-24 12:15:12.960 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 12:15:13.076 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 12:15:13.110 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 12:15:13.220 +04:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 12:15:14.545 +04:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 12:15:14.796 +04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 12:15:14.843 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:15:14.906 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 12:15:15.029 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 12:15:15.058 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 12:15:15.696 +04:00 [INF] Executed DbCommand (128ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 12:15:15.789 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 12:15:15.804 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 2694.26ms
2025-05-24 12:15:15.806 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 12:15:15.820 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 2874.3636ms
2025-05-24 12:22:36.710 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:22:36.912 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:22:36.929 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:22:37.593 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 12:22:38.755 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 12:22:38.940 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 12:22:38.943 +04:00 [INF] Hosting environment: Development
2025-05-24 12:22:38.944 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 12:22:39.634 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 894.0141ms
2025-05-24 12:22:40.126 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 12:22:40.139 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 12:22:40.140 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 12:22:40.290 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 167.0364ms
2025-05-24 12:22:40.277 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 116.201ms
2025-05-24 12:22:40.488 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 349.7917ms
2025-05-24 12:22:40.719 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 12:22:40.857 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.331ms
2025-05-24 12:25:04.474 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - multipart/form-data; boundary=----WebKitFormBoundaryBATyzqqsnneAVLxC 12505
2025-05-24 12:25:04.758 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-24 12:25:04.762 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-24 12:25:04.770 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - 401 null null 305.8732ms
2025-05-24 12:25:24.056 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 12:25:24.094 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 12:25:24.149 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 12:25:24.326 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 12:25:24.547 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 12:25:24.590 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 12:25:24.597 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:25:24.610 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 12:25:24.636 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 12:25:24.645 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 12:25:24.911 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 12:25:24.948 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 12:25:24.970 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 809.6792ms
2025-05-24 12:25:24.973 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 12:25:25.014 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 961.6726ms
2025-05-24 12:25:41.341 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - multipart/form-data; boundary=----WebKitFormBoundary7ywNAeWnURROYDLE 12505
2025-05-24 12:25:41.491 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 12:25:41.509 +04:00 [INF] Route matched with {action = "UploadImage", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(Int32, Microsoft.AspNetCore.Http.IFormFile, Boolean) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 12:25:41.738 +04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-24 12:25:41.926 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer) in 416.2357ms
2025-05-24 12:25:41.929 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 12:25:41.997 +04:00 [ERR] An unhandled exception occurred: Value cannot be null. (Parameter 'path1')
System.ArgumentNullException: Value cannot be null. (Parameter 'path1')
   at System.ArgumentNullException.Throw(String paramName)
   at System.IO.Path.Combine(String path1, String path2, String path3)
   at TurboProject.BusinessLayer.Service.Impl.ImageService.UploadImage(Int32 carId, IFormFile file, Boolean isPrimary) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\ImageService.cs:line 58
   at TurboProject.APILayer.Controllers.ImageController.UploadImage(Int32 carId, IFormFile file, Boolean isPrimary) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\ImageController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-24 12:25:42.072 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - 500 null application/json; charset=utf-8 744.0278ms
2025-05-24 12:27:31.807 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:27:31.915 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:27:31.921 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:27:32.290 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 12:27:32.589 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 12:27:32.655 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 12:27:32.673 +04:00 [INF] Hosting environment: Development
2025-05-24 12:27:32.674 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 12:27:32.991 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 395.6626ms
2025-05-24 12:27:33.227 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 12:27:33.324 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 12:27:33.324 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 12:27:33.332 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 105.3672ms
2025-05-24 12:27:33.338 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 35.1156ms
2025-05-24 12:27:33.450 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 126.0936ms
2025-05-24 12:27:33.627 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 12:27:33.673 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.9035ms
2025-05-24 12:29:20.126 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 12:29:20.383 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 12:29:20.429 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 12:29:20.705 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 12:29:20.940 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 12:29:20.971 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 12:29:20.976 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 12:29:20.984 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 12:29:21.009 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 12:29:21.015 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 12:29:21.208 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 12:29:21.242 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 12:29:21.253 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 821.2017ms
2025-05-24 12:29:21.254 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 12:29:21.264 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1148.0767ms
2025-05-24 12:29:59.972 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - multipart/form-data; boundary=----WebKitFormBoundaryMOsQgPz0XTnGVn60 12505
2025-05-24 12:30:00.184 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 12:30:00.196 +04:00 [INF] Route matched with {action = "UploadImage", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(Int32, Microsoft.AspNetCore.Http.IFormFile, Boolean) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 12:30:13.695 +04:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-24 12:30:17.173 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer) in 16975.4342ms
2025-05-24 12:30:17.176 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 12:30:17.221 +04:00 [ERR] An unhandled exception occurred: Value cannot be null. (Parameter 'path1')
System.ArgumentNullException: Value cannot be null. (Parameter 'path1')
   at System.ArgumentNullException.Throw(String paramName)
   at System.IO.Path.Combine(String path1, String path2, String path3)
   at TurboProject.BusinessLayer.Service.Impl.ImageService.UploadImage(Int32 carId, IFormFile file, Boolean isPrimary) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\ImageService.cs:line 58
   at TurboProject.APILayer.Controllers.ImageController.UploadImage(Int32 carId, IFormFile file, Boolean isPrimary) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\ImageController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-24 12:30:17.316 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - 500 null application/json; charset=utf-8 17352.6703ms
2025-05-24 13:26:03.682 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:26:03.972 +04:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:26:03.997 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:26:04.666 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 13:26:05.656 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 13:26:05.773 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 13:26:05.776 +04:00 [INF] Hosting environment: Development
2025-05-24 13:26:05.779 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 13:26:06.750 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 1133.5576ms
2025-05-24 13:26:07.573 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 13:26:07.574 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 13:26:07.574 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 13:26:07.662 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 83.9213ms
2025-05-24 13:26:07.734 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 169.0034ms
2025-05-24 13:26:07.917 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 352.0457ms
2025-05-24 13:26:08.071 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 13:26:08.504 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 406.825ms
2025-05-24 13:26:41.591 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 13:26:41.829 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 13:26:41.865 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 13:26:42.067 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 13:26:42.337 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 13:26:42.363 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 13:26:42.370 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:26:42.384 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 13:26:42.406 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 13:26:42.413 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 13:26:42.640 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 13:26:42.665 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 13:26:42.675 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 806.7716ms
2025-05-24 13:26:42.676 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 13:26:42.686 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1099.0525ms
2025-05-24 13:27:09.965 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - multipart/form-data; boundary=----WebKitFormBoundaryB9lNbPAegwmE8OF6 12505
2025-05-24 13:27:10.004 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-24 13:27:10.008 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-24 13:27:10.014 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - 401 null null 57.4965ms
2025-05-24 13:27:29.431 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - multipart/form-data; boundary=----WebKitFormBoundaryfKYTES6sx5LGicaw 12505
2025-05-24 13:27:29.545 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 13:27:29.559 +04:00 [INF] Route matched with {action = "UploadImage", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(Int32, Microsoft.AspNetCore.Http.IFormFile, Boolean) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 13:27:29.699 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-24 13:27:29.804 +04:00 [INF] Executed DbCommand (28ms) [Parameters=[@__carId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary]
FROM [Images] AS [i]
WHERE [i].[CarId] = @__carId_0 AND [i].[IsPrimary] = CAST(1 AS bit)
2025-05-24 13:27:29.862 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Images] ([CarId], [ImageURL], [IsPrimary])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-24 13:27:29.866 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:27:29.872 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer) in 312.6266ms
2025-05-24 13:27:29.874 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 13:27:29.882 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=true - 200 null application/json; charset=utf-8 461.2938ms
2025-05-24 13:30:54.082 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:30:54.141 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:30:54.146 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:30:54.345 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 13:30:54.767 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 13:30:54.823 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 13:30:54.833 +04:00 [INF] Hosting environment: Development
2025-05-24 13:30:54.834 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 13:30:55.218 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 451.001ms
2025-05-24 13:30:55.687 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 13:30:55.687 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 13:30:55.687 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 13:30:55.733 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 34.652ms
2025-05-24 13:30:55.735 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 49.976ms
2025-05-24 13:30:55.854 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 167.9707ms
2025-05-24 13:30:56.980 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 13:30:57.156 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 185.2105ms
2025-05-24 13:31:15.804 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 13:31:16.109 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 13:31:16.191 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 13:31:16.430 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 13:31:16.613 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 13:31:16.642 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 13:31:16.650 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:31:16.657 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 13:31:16.690 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 13:31:16.701 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 13:31:16.915 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 13:31:16.960 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 13:31:16.971 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 776.7109ms
2025-05-24 13:31:16.972 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 13:31:16.981 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1189.3343ms
2025-05-24 13:32:25.161 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=false - multipart/form-data; boundary=----WebKitFormBoundaryj1dgH0ocXVihPjnP 217464
2025-05-24 13:32:25.334 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 13:32:25.352 +04:00 [INF] Route matched with {action = "UploadImage", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(Int32, Microsoft.AspNetCore.Http.IFormFile, Boolean) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 13:32:25.586 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-24 13:32:25.697 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Images] ([CarId], [ImageURL], [IsPrimary])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-24 13:32:25.702 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:32:25.706 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer) in 353.8987ms
2025-05-24 13:32:25.707 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.UploadImage (TurboProject.APILayer)'
2025-05-24 13:32:25.713 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/image/upload?carId=4&isPrimary=false - 200 null application/json; charset=utf-8 561.8736ms
2025-05-24 13:33:01.341 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/image/car/4 - null null
2025-05-24 13:33:01.521 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.GetImagesByCar (TurboProject.APILayer)'
2025-05-24 13:33:01.577 +04:00 [INF] Route matched with {action = "GetImagesByCar", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImagesByCar(Int32) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 13:33:02.171 +04:00 [INF] Executed DbCommand (421ms) [Parameters=[@__carId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary]
FROM [Images] AS [i]
WHERE [i].[CarId] = @__carId_0
2025-05-24 13:33:02.380 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Image.GetImageDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 13:33:02.434 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.GetImagesByCar (TurboProject.APILayer) in 850.3459ms
2025-05-24 13:33:02.434 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.GetImagesByCar (TurboProject.APILayer)'
2025-05-24 13:33:02.436 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/image/car/4 - 200 null application/json; charset=utf-8 1103.331ms
2025-05-24 13:35:14.969 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:35:15.125 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:35:15.140 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:35:15.906 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 13:35:16.721 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 13:35:16.950 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 13:35:16.952 +04:00 [INF] Hosting environment: Development
2025-05-24 13:35:16.953 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 13:35:17.703 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 1006.5087ms
2025-05-24 13:35:18.070 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 13:35:18.070 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 13:35:18.105 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 13:35:18.206 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 128.4722ms
2025-05-24 13:35:18.199 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 133.9691ms
2025-05-24 13:35:18.435 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 330.5149ms
2025-05-24 13:35:18.859 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 13:35:19.048 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.0475ms
2025-05-24 13:35:32.875 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/image/car/4 - null null
2025-05-24 13:35:33.063 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.GetImagesByCar (TurboProject.APILayer)'
2025-05-24 13:35:33.102 +04:00 [INF] Route matched with {action = "GetImagesByCar", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImagesByCar(Int32) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 13:35:33.297 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__carId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary]
FROM [Images] AS [i]
WHERE [i].[CarId] = @__carId_0
2025-05-24 13:35:33.433 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Image.GetImageDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:35:33.468 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.GetImagesByCar (TurboProject.APILayer) in 358.8436ms
2025-05-24 13:35:33.470 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.GetImagesByCar (TurboProject.APILayer)'
2025-05-24 13:35:33.483 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/image/car/4 - 200 null application/json; charset=utf-8 620.5876ms
2025-05-24 13:35:57.076 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger//images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg - null null
2025-05-24 13:35:57.234 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger//images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg - 404 null null 159.6621ms
2025-05-24 13:35:57.236 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44307/swagger//images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg, Response status code: 404
2025-05-24 13:36:06.835 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg - null null
2025-05-24 13:36:06.892 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg - 404 null null 71.6464ms
2025-05-24 13:36:06.898 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44307/swagger/images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg, Response status code: 404
2025-05-24 13:36:37.489 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg - null null
2025-05-24 13:36:37.681 +04:00 [INF] Sending file. Request path: '/images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg'. Physical path: 'C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\wwwroot\images\cars\4\b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg'
2025-05-24 13:36:37.686 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/images/cars/4/b0123f5e-dca5-428f-a7d8-0c578807bf3b.jpg - 200 12319 image/jpeg 199.3785ms
2025-05-24 13:36:37.744 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/favicon.ico - null null
2025-05-24 13:36:37.752 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/favicon.ico - 404 null null 7.8478ms
2025-05-24 13:36:37.753 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44307/favicon.ico, Response status code: 404
2025-05-24 13:36:41.795 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 13:36:41.822 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 25.7917ms
2025-05-24 13:36:42.034 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 13:36:42.106 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.5602ms
2025-05-24 13:38:50.112 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/image/car/4/primary - null null
2025-05-24 13:38:50.138 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.GetPrimaryImageByCar (TurboProject.APILayer)'
2025-05-24 13:38:50.158 +04:00 [INF] Route matched with {action = "GetPrimaryImageByCar", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPrimaryImageByCar(Int32) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 13:38:50.277 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__carId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary]
FROM [Images] AS [i]
WHERE [i].[CarId] = @__carId_0 AND [i].[IsPrimary] = CAST(1 AS bit)
2025-05-24 13:38:50.284 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Image.GetImageDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 13:38:50.291 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.GetPrimaryImageByCar (TurboProject.APILayer) in 131.8992ms
2025-05-24 13:38:50.291 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.GetPrimaryImageByCar (TurboProject.APILayer)'
2025-05-24 13:38:50.293 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/image/car/4/primary - 200 null application/json; charset=utf-8 184.0951ms
2025-05-24 13:39:20.416 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 13:39:20.499 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 83.7638ms
2025-05-24 13:39:20.635 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 13:39:20.639 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 13:39:20.640 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 5.1682ms
2025-05-24 13:39:20.642 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 13:39:20.651 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 12.3638ms
2025-05-24 13:39:20.702 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.6852ms
2025-05-24 13:39:21.629 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 13:39:21.731 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.2707ms
2025-05-24 13:39:34.051 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/image/car/4/primary - null null
2025-05-24 13:39:34.078 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ImageController.GetPrimaryImageByCar (TurboProject.APILayer)'
2025-05-24 13:39:34.098 +04:00 [INF] Route matched with {action = "GetPrimaryImageByCar", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPrimaryImageByCar(Int32) on controller TurboProject.APILayer.Controllers.ImageController (TurboProject.APILayer).
2025-05-24 13:39:34.147 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__carId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[CarId], [i].[ImageURL], [i].[IsPrimary]
FROM [Images] AS [i]
WHERE [i].[CarId] = @__carId_0 AND [i].[IsPrimary] = CAST(1 AS bit)
2025-05-24 13:39:34.152 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Image.GetImageDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 13:39:34.159 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ImageController.GetPrimaryImageByCar (TurboProject.APILayer) in 61.4102ms
2025-05-24 13:39:34.160 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ImageController.GetPrimaryImageByCar (TurboProject.APILayer)'
2025-05-24 13:39:34.161 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/image/car/4/primary - 200 null application/json; charset=utf-8 115.1708ms
2025-05-24 13:40:58.146 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/approve-car/4 - null 0
2025-05-24 13:40:58.249 +04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-24 13:40:58.254 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-24 13:40:58.258 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/approve-car/4 - 401 null null 113.3692ms
2025-05-24 13:41:17.480 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 13:41:17.491 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 13:41:17.513 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 13:41:17.620 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 13:41:17.966 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 13:41:18.022 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 13:41:18.026 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:41:18.039 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 13:41:18.067 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 13:41:18.072 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 13:41:18.241 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 13:41:18.268 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 13:41:18.273 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 758.9914ms
2025-05-24 13:41:18.274 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 13:41:18.274 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 795.9289ms
2025-05-24 13:41:31.460 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/approve-car/4 - null 0
2025-05-24 13:41:31.611 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.ApproveCar (TurboProject.APILayer)'
2025-05-24 13:41:31.618 +04:00 [INF] Route matched with {action = "ApproveCar", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveCar(Int32) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-24 13:41:31.710 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-24 13:41:31.890 +04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p22='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (Size = 4000), @p21='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cars] SET [Barter] = @p0, [BodyTypeId] = @p1, [CityId] = @p2, [CreatedAt] = @p3, [Credit] = @p4, [CurrencyType] = @p5, [Description] = @p6, [EngineSizeId] = @p7, [FuelTypeId] = @p8, [HP] = @p9, [IsApproved] = @p10, [IsSold] = @p11, [Mileage] = @p12, [ModelId] = @p13, [Price] = @p14, [RejectionReason] = @p15, [SeatNumber] = @p16, [StatusId] = @p17, [TransmissionId] = @p18, [UserId] = @p19, [VinCode] = @p20, [Year] = @p21
OUTPUT 1
WHERE [Id] = @p22;
2025-05-24 13:41:31.908 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:41:31.915 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.ApproveCar (TurboProject.APILayer) in 297.3064ms
2025-05-24 13:41:31.916 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.ApproveCar (TurboProject.APILayer)'
2025-05-24 13:41:31.917 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/approve-car/4 - 200 null application/json; charset=utf-8 469.7127ms
2025-05-24 13:42:11.969 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-05-24 13:42:11.984 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-05-24 13:42:11.991 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 13:42:12.072 +04:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-05-24 13:42:12.112 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:42:12.117 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 125.1596ms
2025-05-24 13:42:12.117 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-05-24 13:42:12.118 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 150.0617ms
2025-05-24 13:53:41.975 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:53:42.090 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:53:42.095 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 13:53:42.360 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 13:53:42.640 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 13:53:42.727 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 13:53:42.728 +04:00 [INF] Hosting environment: Development
2025-05-24 13:53:42.729 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 13:53:43.025 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 392.4343ms
2025-05-24 13:53:43.237 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 13:53:43.237 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 13:53:43.237 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 13:53:43.258 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 22.8776ms
2025-05-24 13:53:43.274 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 27.7791ms
2025-05-24 13:53:43.620 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 384.1461ms
2025-05-24 13:53:43.787 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 13:53:43.868 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.5967ms
2025-05-24 13:53:56.948 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car - null null
2025-05-24 13:53:57.130 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-05-24 13:53:57.158 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 13:53:57.355 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Cars] AS [c]
WHERE [c].[IsApproved] = CAST(1 AS bit)
2025-05-24 13:53:57.426 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:53:57.473 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer) in 302.2538ms
2025-05-24 13:53:57.476 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetAllCars (TurboProject.APILayer)'
2025-05-24 13:53:57.483 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car - 200 null application/json; charset=utf-8 540.5513ms
2025-05-24 13:54:57.059 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Sedan - null null
2025-05-24 13:54:57.098 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:54:57.122 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 13:54:57.287 +04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__model_Model_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [f].[Id], [f].[FuelTypeName], [t].[Id], [t].[TransmissionName], [c0].[Id], [c0].[CityName]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
WHERE [m].[Name] = @__model_Model_0
2025-05-24 13:54:57.325 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:54:57.328 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 204.9831ms
2025-05-24 13:54:57.328 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:54:57.329 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Sedan - 200 null application/json; charset=utf-8 277.1319ms
2025-05-24 13:55:11.028 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Xetchbek - null null
2025-05-24 13:55:11.054 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:55:11.063 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 13:55:11.118 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__model_Model_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [f].[Id], [f].[FuelTypeName], [t].[Id], [t].[TransmissionName], [c0].[Id], [c0].[CityName]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
WHERE [m].[Name] = @__model_Model_0
2025-05-24 13:55:11.124 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:55:11.127 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 63.2112ms
2025-05-24 13:55:11.132 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:55:11.136 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Xetchbek - 200 null application/json; charset=utf-8 111.9153ms
2025-05-24 13:55:23.378 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Yuk%20masini - null null
2025-05-24 13:55:23.390 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:55:23.394 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 13:55:23.441 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__model_Model_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year], [m].[Id], [m].[BrandId], [m].[Name], [f].[Id], [f].[FuelTypeName], [t].[Id], [t].[TransmissionName], [c0].[Id], [c0].[CityName]
FROM [Cars] AS [c]
INNER JOIN [Models] AS [m] ON [c].[ModelId] = [m].[Id]
INNER JOIN [FuelTypes] AS [f] ON [c].[FuelTypeId] = [f].[Id]
INNER JOIN [Transmissions] AS [t] ON [c].[TransmissionId] = [t].[Id]
INNER JOIN [Cities] AS [c0] ON [c].[CityId] = [c0].[Id]
WHERE [m].[Name] = @__model_Model_0
2025-05-24 13:55:23.446 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 13:55:23.448 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 53.2717ms
2025-05-24 13:55:23.449 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:55:23.450 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5&Category=Yuk%20masini - 200 null application/json; charset=utf-8 73.2083ms
2025-05-24 13:55:42.331 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5 - null null
2025-05-24 13:55:42.353 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:55:42.357 +04:00 [INF] Route matched with {action = "GetFilteredCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredCars(TurboProject.BusinessLayer.Model.DTO.Response.Car.GetCarFilteredRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-24 13:55:42.377 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-24 13:55:42.454 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer) in 95.9334ms
2025-05-24 13:55:42.454 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.GetFilteredCars (TurboProject.APILayer)'
2025-05-24 13:55:42.455 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/car/filter?Model=M5 - 400 null application/problem+json; charset=utf-8 133.1355ms
2025-05-24 14:05:37.099 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/Feature/4 - null null
2025-05-24 14:05:37.130 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FeatureController.GetFeaturesByCarId (TurboProject.APILayer)'
2025-05-24 14:05:37.173 +04:00 [INF] Route matched with {action = "GetFeaturesByCarId", controller = "Feature"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeaturesByCarId(Int32) on controller TurboProject.APILayer.Controllers.FeatureController (TurboProject.APILayer).
2025-05-24 14:05:37.354 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__carId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[CarId], [f].[FeatureName]
FROM [Features] AS [f]
WHERE [f].[CarId] = @__carId_0
2025-05-24 14:05:37.366 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Features.GetFeatureDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 14:05:37.375 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FeatureController.GetFeaturesByCarId (TurboProject.APILayer) in 200.5321ms
2025-05-24 14:05:37.375 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FeatureController.GetFeaturesByCarId (TurboProject.APILayer)'
2025-05-24 14:05:37.376 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/Feature/4 - 200 null application/json; charset=utf-8 297.8305ms
2025-05-24 14:06:44.935 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/favorite - null null
2025-05-24 14:06:44.973 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-24 14:06:44.980 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-24 14:06:44.984 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/favorite - 401 null null 55.8046ms
2025-05-24 14:07:12.663 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 14:07:12.694 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:07:12.748 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 14:07:12.822 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 14:07:13.003 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 14:07:13.036 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:07:13.041 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:07:13.053 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 14:07:13.075 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 14:07:13.084 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:07:13.331 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 14:07:13.350 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 14:07:13.354 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 605.6901ms
2025-05-24 14:07:13.354 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:07:13.355 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 696.7291ms
2025-05-24 14:07:55.614 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/favorite - null null
2025-05-24 14:07:55.784 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-05-24 14:07:55.791 +04:00 [INF] Route matched with {action = "GetUserFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.Collections.Generic.List`1[TurboProject.BusinessLayer.Model.DTO.Response.Favorite.GetFavoriteDto]]]] GetUserFavorites() on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-05-24 14:07:55.937 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer) in 145.286ms
2025-05-24 14:07:55.938 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-05-24 14:07:55.984 +04:00 [ERR] An unhandled exception occurred: The input string 'hemid@gmail.com' was not in a correct format.
System.FormatException: The input string 'hemid@gmail.com' was not in a correct format.
   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)
   at System.Int32.Parse(String s)
   at TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 30
   at lambda_method773(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-24 14:07:56.107 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 496.0731ms
2025-05-24 14:14:40.136 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:14:40.292 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:14:40.392 +04:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:14:41.087 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 14:14:41.766 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 14:14:41.866 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 14:14:41.868 +04:00 [INF] Hosting environment: Development
2025-05-24 14:14:41.869 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 14:14:42.663 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 935.7553ms
2025-05-24 14:14:43.258 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 14:14:43.274 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 18.9342ms
2025-05-24 14:14:43.296 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 14:14:43.328 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 12.2491ms
2025-05-24 14:14:43.399 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 14:14:43.472 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.893ms
2025-05-24 14:14:43.767 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 14:14:43.854 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.68ms
2025-05-24 14:15:27.800 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-05-24 14:15:28.465 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:15:28.567 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 14:15:29.300 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 14:15:29.636 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 14:15:29.700 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:15:29.707 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:15:29.726 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 14:15:29.754 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 14:15:29.770 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:15:30.195 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 14:15:30.230 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 14:15:30.252 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 1674.7303ms
2025-05-24 14:15:30.258 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:15:30.268 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 2475.5318ms
2025-05-24 14:16:30.494 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/favorite - null null
2025-05-24 14:16:30.607 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-05-24 14:16:30.619 +04:00 [INF] Route matched with {action = "GetUserFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.Collections.Generic.List`1[TurboProject.BusinessLayer.Model.DTO.Response.Favorite.GetFavoriteDto]]]] GetUserFavorites() on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-05-24 14:16:30.719 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer) in 99.7213ms
2025-05-24 14:16:30.720 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-05-24 14:16:30.761 +04:00 [ERR] An unhandled exception occurred: The input string 'gamid.ismailov.001@gmail.com' was not in a correct format.
System.FormatException: The input string 'gamid.ismailov.001@gmail.com' was not in a correct format.
   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)
   at System.Int32.Parse(String s)
   at TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 30
   at lambda_method453(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-24 14:16:30.819 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 334.2931ms
2025-05-24 14:35:04.318 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:35:04.393 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:35:04.397 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:35:04.583 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 14:35:04.915 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 14:35:05.085 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 14:35:05.090 +04:00 [INF] Hosting environment: Development
2025-05-24 14:35:05.093 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 14:35:06.004 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 1089.7195ms
2025-05-24 14:35:06.319 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 14:35:06.337 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 14:35:06.339 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 14:35:06.365 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 46.1768ms
2025-05-24 14:35:06.366 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 30.2833ms
2025-05-24 14:35:06.586 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 247.0833ms
2025-05-24 14:35:06.713 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 14:35:06.873 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.1032ms
2025-05-24 14:35:28.488 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-05-24 14:35:28.797 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:35:28.832 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 14:35:29.012 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 14:35:29.198 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 14:35:29.229 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:35:29.235 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:35:29.243 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 14:35:29.262 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 14:35:29.268 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:35:29.482 +04:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 14:35:29.544 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 14:35:29.556 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 720.8839ms
2025-05-24 14:35:29.557 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:35:29.567 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1086.3895ms
2025-05-24 14:35:47.752 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/favorite - null null
2025-05-24 14:35:47.846 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-05-24 14:35:47.853 +04:00 [INF] Route matched with {action = "GetUserFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.Collections.Generic.List`1[TurboProject.BusinessLayer.Model.DTO.Response.Favorite.GetFavoriteDto]]]] GetUserFavorites() on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-05-24 14:35:47.949 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[CarId], [f].[CreatedAt], [f].[UserId], [c].[Id], [c].[Barter], [c].[BodyTypeId], [c].[CityId], [c].[CreatedAt], [c].[Credit], [c].[CurrencyType], [c].[Description], [c].[EngineSizeId], [c].[FuelTypeId], [c].[HP], [c].[IsApproved], [c].[IsSold], [c].[Mileage], [c].[ModelId], [c].[Price], [c].[RejectionReason], [c].[SeatNumber], [c].[StatusId], [c].[TransmissionId], [c].[UserId], [c].[VinCode], [c].[Year]
FROM [Favorites] AS [f]
INNER JOIN [Cars] AS [c] ON [f].[CarId] = [c].[Id]
WHERE [f].[UserId] = @__userId_0
2025-05-24 14:35:47.971 +04:00 [INF] Executing NotFoundObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Favorite.GetFavoriteDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 14:35:47.981 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer) in 126.8435ms
2025-05-24 14:35:47.981 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.GetUserFavorites (TurboProject.APILayer)'
2025-05-24 14:35:47.984 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/favorite - 404 null application/json; charset=utf-8 241.4364ms
2025-05-24 14:36:02.947 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-05-24 14:36:02.991 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-05-24 14:36:03.006 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-05-24 14:36:03.122 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-24 14:36:03.171 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-24 14:36:03.275 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d731c3bf-18f9-4b64-b5f6-e4f2cb6b500c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d731c3bf-18f9-4b64-b5f6-e4f2cb6b500c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-24 14:36:03.564 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 557.4197ms
2025-05-24 14:36:03.566 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-05-24 14:36:03.633 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d731c3bf-18f9-4b64-b5f6-e4f2cb6b500c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 54
   at lambda_method495(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-24 14:36:03.688 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 749.9982ms
2025-05-24 14:39:13.549 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:39:13.767 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:39:13.776 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:39:14.096 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 14:39:14.396 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 14:39:14.440 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 14:39:14.460 +04:00 [INF] Hosting environment: Development
2025-05-24 14:39:14.460 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 14:39:14.749 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 359.4367ms
2025-05-24 14:39:14.896 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 14:39:14.909 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 14:39:14.925 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 14:39:14.939 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 43.2849ms
2025-05-24 14:39:14.942 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 13.8553ms
2025-05-24 14:39:14.981 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.4307ms
2025-05-24 14:39:15.197 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 14:39:15.276 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.3955ms
2025-05-24 14:39:36.320 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-05-24 14:39:36.517 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:39:36.551 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 14:39:36.725 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 14:39:36.733 +04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 14:39:36.747 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 188.9698ms
2025-05-24 14:39:36.749 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:39:36.755 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 401 null application/json; charset=utf-8 441.1902ms
2025-05-24 14:39:44.358 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 71
2025-05-24 14:39:44.384 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:39:44.386 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 14:39:44.414 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 14:39:44.588 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 14:39:44.617 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:39:44.623 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 14:39:44.637 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 14:39:44.658 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 14:39:44.665 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 14:39:44.888 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 14:39:44.908 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 14:39:44.911 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 524.7037ms
2025-05-24 14:39:44.911 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 14:39:44.913 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 567.6064ms
2025-05-24 14:40:02.345 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/favorite - application/json 16
2025-05-24 14:40:02.449 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-05-24 14:40:02.460 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Favorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[System.String]]] AddToFavorites(TurboProject.BusinessLayer.Model.DTO.Request.Favorite.CreateFavoriteDto) on controller TurboProject.APILayer.Controllers.FavoriteController (TurboProject.APILayer).
2025-05-24 14:40:02.580 +04:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 450), @__carId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-24 14:40:02.919 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([CarId], [CreatedAt], [UserId], [UserId1])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-24 14:40:03.013 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a50f0ee8-3a53-43df-8cfd-e63b05af99d0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a50f0ee8-3a53-43df-8cfd-e63b05af99d0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-24 14:40:03.199 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer) in 738.4332ms
2025-05-24 14:40:03.200 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites (TurboProject.APILayer)'
2025-05-24 14:40:03.257 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Favorites_AspNetUsers_UserId". The conflict occurred in database "Turboaz", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a50f0ee8-3a53-43df-8cfd-e63b05af99d0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.FavoriteService.AddToFavoritesAsync(String userId, CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\FavoriteService.cs:line 31
   at TurboProject.APILayer.Controllers.FavoriteController.AddToFavorites(CreateFavoriteDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\FavoriteController.cs:line 54
   at lambda_method458(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-24 14:40:03.312 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/favorite - 500 null application/json; charset=utf-8 972.8379ms
2025-05-24 16:11:57.984 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:11:58.102 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:11:58.107 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:11:58.300 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 16:11:58.703 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 16:11:58.765 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 16:11:58.766 +04:00 [INF] Hosting environment: Development
2025-05-24 16:11:58.767 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 16:12:00.146 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 1419.9148ms
2025-05-24 16:12:00.375 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 16:12:00.388 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 16:12:00.396 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 16:12:00.472 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 58.8626ms
2025-05-24 16:12:00.483 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 110.9948ms
2025-05-24 16:12:01.033 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 666.378ms
2025-05-24 16:12:01.261 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 16:12:01.629 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 367.8737ms
2025-05-24 16:17:42.275 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 16:17:42.479 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 16:17:42.683 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 16:17:42.983 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 16:17:43.242 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 16:17:43.284 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:17:43.289 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:17:43.303 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 16:17:43.350 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 16:17:43.355 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:17:43.564 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 16:17:43.588 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 16:17:43.599 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 908.2582ms
2025-05-24 16:17:43.603 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 16:17:43.624 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 1356.3831ms
2025-05-24 16:18:05.005 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/users - null null
2025-05-24 16:18:05.094 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-24 16:18:05.102 +04:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-24 16:18:05.255 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-05-24 16:18:05.267 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:18:05.289 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:18:05.293 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.User.GetUserDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 16:18:05.299 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer) in 196.4877ms
2025-05-24 16:18:05.299 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-24 16:18:05.300 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/users - 200 null application/json; charset=utf-8 302.8546ms
2025-05-24 16:18:24.232 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/users/f840f152-c024-43f1-88dd-6c48d0ae2057/block - null 0
2025-05-24 16:18:24.264 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.BlockUser (TurboProject.APILayer)'
2025-05-24 16:18:24.279 +04:00 [INF] Route matched with {action = "BlockUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BlockUser(System.String) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-24 16:18:24.389 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-24 16:18:24.489 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-24 16:18:24.569 +04:00 [INF] Executed DbCommand (51ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedDate] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [IsBlocked] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [Surname] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-05-24 16:18:24.578 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-24 16:18:24.583 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedDate] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [IsBlocked] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [Surname] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-05-24 16:18:24.587 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-24 16:18:24.594 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedDate] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [IsBlocked] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [Surname] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-05-24 16:18:24.595 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 16:18:24.599 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.BlockUser (TurboProject.APILayer) in 319.3086ms
2025-05-24 16:18:24.599 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.BlockUser (TurboProject.APILayer)'
2025-05-24 16:18:24.600 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/users/f840f152-c024-43f1-88dd-6c48d0ae2057/block - 200 null application/json; charset=utf-8 370.8374ms
2025-05-24 16:18:30.087 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/users - null null
2025-05-24 16:18:30.133 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-24 16:18:30.134 +04:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-24 16:18:30.175 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-05-24 16:18:30.188 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:18:30.190 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:18:30.192 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.User.GetUserDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-24 16:18:30.194 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer) in 59.1007ms
2025-05-24 16:18:30.195 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-24 16:18:30.195 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/users - 200 null application/json; charset=utf-8 114.624ms
2025-05-24 16:33:39.584 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:33:39.630 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:33:39.632 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:33:39.795 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-24 16:33:40.035 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-24 16:33:40.088 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-24 16:33:40.090 +04:00 [INF] Hosting environment: Development
2025-05-24 16:33:40.091 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-24 16:33:40.430 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 403.5784ms
2025-05-24 16:33:40.538 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-24 16:33:40.538 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-24 16:33:40.557 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 23.6234ms
2025-05-24 16:33:40.590 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 19.5233ms
2025-05-24 16:33:40.592 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-24 16:33:40.652 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.1871ms
2025-05-24 16:33:40.867 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-24 16:33:40.908 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.3355ms
2025-05-24 16:34:03.192 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-24 16:34:03.372 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 16:34:03.404 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-24 16:34:03.591 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-24 16:34:03.749 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-24 16:34:03.803 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:34:03.811 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-24 16:34:03.821 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-24 16:34:03.843 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-24 16:34:03.849 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-24 16:34:04.018 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-24 16:34:04.040 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-24 16:34:04.052 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 643.3879ms
2025-05-24 16:34:04.052 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-24 16:34:04.057 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 868.8951ms
