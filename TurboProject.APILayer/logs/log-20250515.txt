2025-05-15 10:29:39.434 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 10:29:39.642 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 10:29:39.650 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 10:29:39.974 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 10:29:40.743 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 10:29:40.891 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 10:29:40.894 +04:00 [INF] Hosting environment: Development
2025-05-15 10:29:40.895 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 10:29:42.738 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 2005.4286ms
2025-05-15 10:29:42.902 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/swagger-ui.css - null null
2025-05-15 10:29:42.922 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/swagger-ui-standalone-preset.js - null null
2025-05-15 10:29:42.971 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 10:29:42.971 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 10:29:43.020 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 86.5094ms
2025-05-15 10:29:43.021 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/swagger-ui-bundle.js - null null
2025-05-15 10:29:43.029 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 86.4152ms
2025-05-15 10:29:43.030 +04:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2025-05-15 10:29:43.030 +04:00 [INF] The file /swagger-ui.css was not modified
2025-05-15 10:29:43.030 +04:00 [INF] The file /swagger-ui-bundle.js was not modified
2025-05-15 10:29:43.036 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 10:29:43.037 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/swagger-ui-bundle.js - 304 null text/javascript 15.405ms
2025-05-15 10:29:43.037 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/swagger-ui.css - 304 null text/css 135.3752ms
2025-05-15 10:29:43.037 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 115.614ms
2025-05-15 10:29:43.044 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.css - null null
2025-05-15 10:29:43.046 +04:00 [INF] The file /index.css was not modified
2025-05-15 10:29:43.077 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.css - 304 null text/css 33.7708ms
2025-05-15 10:29:43.323 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 287.0938ms
2025-05-15 10:29:43.585 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 10:29:43.727 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/favicon-32x32.png - null null
2025-05-15 10:29:43.730 +04:00 [INF] The file /favicon-32x32.png was not modified
2025-05-15 10:29:43.734 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/favicon-32x32.png - 304 null image/png 9.7021ms
2025-05-15 10:29:43.782 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 197.645ms
2025-05-15 12:25:56.530 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:25:56.686 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:25:56.695 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:25:57.226 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 12:25:57.860 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 12:25:58.028 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 12:25:58.029 +04:00 [INF] Hosting environment: Development
2025-05-15 12:25:58.030 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 12:25:58.425 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 576.5135ms
2025-05-15 12:25:58.584 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 12:25:58.584 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 12:25:58.606 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 12:25:58.594 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 12.1696ms
2025-05-15 12:25:58.621 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 11.9797ms
2025-05-15 12:25:58.686 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.3744ms
2025-05-15 12:25:58.941 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 12:25:59.024 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.0422ms
2025-05-15 12:26:44.100 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 12:26:44.291 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 12:26:44.324 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 12:26:44.477 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 12:26:44.659 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 12:26:44.706 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 12:26:44.713 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:26:44.723 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 12:26:44.738 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 12:26:44.745 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 12:26:44.950 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 622.3533ms
2025-05-15 12:26:44.951 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 12:26:45.006 +04:00 [ERR] An unhandled exception occurred: Value cannot be null. (Parameter 's')
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at TurboProject.BusinessLayer.Service.Impl.TokenService.GenerateTokensAsync(User user, IList`1 roles, String ipAddress) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\TokenService.cs:line 39
   at TurboProject.APILayer.Controllers.AccountController.Login(LoginRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\AccountController.cs:line 159
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 12:26:45.078 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 500 null application/json; charset=utf-8 986.4809ms
2025-05-15 12:30:35.944 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:30:36.005 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:30:36.010 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:30:36.170 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 12:30:36.425 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 12:30:36.483 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 12:30:36.484 +04:00 [INF] Hosting environment: Development
2025-05-15 12:30:36.484 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 12:30:36.731 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 315.2298ms
2025-05-15 12:30:36.828 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 12:30:36.830 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 12:30:36.845 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 13.7117ms
2025-05-15 12:30:36.844 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 27.9902ms
2025-05-15 12:30:36.857 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 12:30:36.896 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.416ms
2025-05-15 12:30:37.140 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 12:30:37.196 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.2738ms
2025-05-15 12:31:01.087 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 12:31:01.329 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 12:31:01.361 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 12:31:01.524 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 12:31:01.701 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 12:31:01.731 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 12:31:01.736 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:31:01.743 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 12:31:01.772 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 12:31:01.779 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 12:31:02.148 +04:00 [ERR] Failed executing DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 12:31:02.240 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0d8720fd-1da9-4fcd-b608-6956ac24b4e0
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0d8720fd-1da9-4fcd-b608-6956ac24b4e0
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-15 12:31:02.354 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 988.1481ms
2025-05-15 12:31:02.357 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 12:31:02.416 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0d8720fd-1da9-4fcd-b608-6956ac24b4e0
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.BusinessLayer.Service.Impl.TokenService.GenerateTokensAsync(User user, IList`1 roles, String ipAddress) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\TokenService.cs:line 50
   at TurboProject.APILayer.Controllers.AccountController.Login(LoginRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\AccountController.cs:line 159
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 12:31:02.461 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 500 null application/json; charset=utf-8 1377.2653ms
2025-05-15 12:34:25.212 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:34:25.260 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:34:25.263 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:34:25.438 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 12:34:25.744 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 12:34:25.826 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 12:34:25.828 +04:00 [INF] Hosting environment: Development
2025-05-15 12:34:25.828 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 12:34:26.128 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 398.1928ms
2025-05-15 12:34:26.267 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 12:34:26.268 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 12:34:26.273 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 6.5769ms
2025-05-15 12:34:26.274 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 4.982ms
2025-05-15 12:34:26.297 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 12:34:26.361 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.715ms
2025-05-15 12:34:26.581 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 12:34:26.698 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.6901ms
2025-05-15 12:34:53.060 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 12:34:53.286 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 12:34:53.317 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 12:34:53.476 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 12:34:53.647 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 12:34:53.665 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 12:34:53.669 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 12:34:53.676 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 12:34:53.694 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 12:34:53.702 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 12:34:53.895 +04:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 12:34:53.985 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ReplacedByToken', table 'Turboaz.dbo.RefreshTokens'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:75335094-76b9-409c-84c9-3015ea313a52
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ReplacedByToken', table 'Turboaz.dbo.RefreshTokens'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:75335094-76b9-409c-84c9-3015ea313a52
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-15 12:34:54.090 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 769.2853ms
2025-05-15 12:34:54.092 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 12:34:54.210 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ReplacedByToken', table 'Turboaz.dbo.RefreshTokens'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:75335094-76b9-409c-84c9-3015ea313a52
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.BusinessLayer.Service.Impl.TokenService.GenerateTokensAsync(User user, IList`1 roles, String ipAddress) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\TokenService.cs:line 50
   at TurboProject.APILayer.Controllers.AccountController.Login(LoginRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\AccountController.cs:line 159
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 12:34:54.258 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 500 null application/json; charset=utf-8 1201.1408ms
2025-05-15 17:24:58.738 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 17:24:58.800 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 17:24:58.806 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 17:24:58.957 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 17:24:59.261 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 17:24:59.330 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 17:24:59.331 +04:00 [INF] Hosting environment: Development
2025-05-15 17:24:59.331 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 17:24:59.604 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 350.9963ms
2025-05-15 17:24:59.721 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 17:24:59.722 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 17:24:59.729 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 11.544ms
2025-05-15 17:24:59.730 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 7.6541ms
2025-05-15 17:24:59.762 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 17:24:59.826 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.2863ms
2025-05-15 17:25:00.063 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 17:25:00.270 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 248.3063ms
2025-05-15 17:25:23.823 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 17:25:24.017 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 17:25:24.045 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 17:25:24.187 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 17:25:24.335 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 17:25:24.359 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 17:25:24.363 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 17:25:24.371 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 17:25:24.385 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 17:25:24.390 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 17:25:24.595 +04:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 17:25:24.619 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 17:25:24.625 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 577.9899ms
2025-05-15 17:25:24.626 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 17:25:24.630 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 809.5208ms
2025-05-15 17:28:17.499 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/users - null null
2025-05-15 17:28:17.609 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-15 17:28:17.618 +04:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 17:28:17.706 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-05-15 17:28:17.720 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 17:28:17.737 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 17:28:17.740 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.User.GetUserDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 17:28:17.745 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer) in 126.687ms
2025-05-15 17:28:17.745 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-15 17:28:17.746 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/users - 200 null application/json; charset=utf-8 251.9642ms
2025-05-15 17:28:30.187 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/all-statuses - null null
2025-05-15 17:28:30.209 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllStatuses (TurboProject.APILayer)'
2025-05-15 17:28:30.219 +04:00 [INF] Route matched with {action = "GetAllStatuses", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStatuses() on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 17:28:30.270 +04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndTime], [s].[Price], [s].[StatusName]
FROM [Statuses] AS [s]
2025-05-15 17:28:30.286 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Status.GetStatusDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 17:28:30.293 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.GetAllStatuses (TurboProject.APILayer) in 73.779ms
2025-05-15 17:28:30.293 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllStatuses (TurboProject.APILayer)'
2025-05-15 17:28:30.294 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/all-statuses - 200 null application/json; charset=utf-8 109.1125ms
2025-05-15 17:29:11.047 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/body-type/list - null null
2025-05-15 17:29:11.063 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-05-15 17:29:11.075 +04:00 [INF] Route matched with {action = "GetAllTypes", controller = "BodyType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTypes() on controller TurboProject.APILayer.Controllers.BodyTypeController (TurboProject.APILayer).
2025-05-15 17:29:11.134 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[BodyTypeName]
FROM [BodyTypes] AS [b]
2025-05-15 17:29:11.153 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.BodyType.GetBodyTypeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 17:29:11.157 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer) in 81.383ms
2025-05-15 17:29:11.157 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BodyTypeController.GetAllTypes (TurboProject.APILayer)'
2025-05-15 17:29:11.158 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/body-type/list - 200 null application/json; charset=utf-8 115.9401ms
2025-05-15 17:51:39.127 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/body-types - application/json 29
2025-05-15 17:51:39.168 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 13:40:24', Current time (UTC): '15.05.2025 13:51:39'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-15 17:51:39.230 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 13:40:24', Current time (UTC): '15.05.2025 13:51:39'.
2025-05-15 17:51:39.234 +04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-15 17:51:39.240 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-15 17:51:39.244 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/body-types - 401 null null 123.1762ms
2025-05-15 17:52:10.600 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/refresh - application/json 112
2025-05-15 17:52:10.629 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 13:40:24', Current time (UTC): '15.05.2025 13:52:10'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-15 17:52:10.633 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 13:40:24', Current time (UTC): '15.05.2025 13:52:10'.
2025-05-15 17:52:10.634 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 17:52:10.645 +04:00 [INF] Route matched with {action = "Refresh", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TurboProject.BusinessLayer.Model.DTO.Request.Account.RefreshRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 17:52:10.928 +04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[Created], [r].[CreatedByIp], [r].[Expires], [r].[ReplacedByToken], [r].[Revoked], [r].[RevokedByIp], [r].[Token], [r].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [AspNetUsers] AS [a] ON [r].[UserId] = [a].[Id]
WHERE [r].[Token] = @__token_0
2025-05-15 17:52:10.950 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'TurboProject.DataLayer.Context.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method520(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method520(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-15 17:52:11.115 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer) in 469.3421ms
2025-05-15 17:52:11.117 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 17:52:11.177 +04:00 [ERR] An unhandled exception occurred: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method520(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at TurboProject.DataLayer.Repository.Impl.RefreshTokenRepository.GetByTokenAsync(String token) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DataLayer\Repository\Impl\RefreshTokenRepository.cs:line 28
   at TurboProject.BusinessLayer.Service.Impl.TokenService.RefreshAsync(String refreshToken, String ipAddress) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\TokenService.cs:line 67
   at TurboProject.APILayer.Controllers.AccountController.Refresh(RefreshRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\AccountController.cs:line 176
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 17:52:11.227 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/refresh - 500 null application/json; charset=utf-8 635.7565ms
2025-05-15 17:54:51.400 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 17:54:51.419 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 13:40:24', Current time (UTC): '15.05.2025 13:54:51'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-15 17:54:51.422 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 13:40:24', Current time (UTC): '15.05.2025 13:54:51'.
2025-05-15 17:54:51.424 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 17:54:51.426 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 17:54:51.521 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 17:54:51.602 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 17:54:51.606 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 17:54:51.610 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 17:54:51.612 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 17:54:51.623 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 17:54:51.627 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 17:54:51.651 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 17:54:51.653 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 17:54:51.655 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 227.874ms
2025-05-15 17:54:51.655 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 17:54:51.657 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 267.0761ms
2025-05-15 17:55:48.696 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/refresh - application/json 112
2025-05-15 17:55:48.717 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 17:55:48.719 +04:00 [INF] Route matched with {action = "Refresh", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TurboProject.BusinessLayer.Model.DTO.Request.Account.RefreshRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 17:55:48.770 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[Created], [r].[CreatedByIp], [r].[Expires], [r].[ReplacedByToken], [r].[Revoked], [r].[RevokedByIp], [r].[Token], [r].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [AspNetUsers] AS [a] ON [r].[UserId] = [a].[Id]
WHERE [r].[Token] = @__token_0
2025-05-15 17:55:48.823 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'TurboProject.DataLayer.Context.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method520(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method520(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-15 17:55:48.908 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer) in 188.6848ms
2025-05-15 17:55:48.909 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 17:55:48.944 +04:00 [ERR] An unhandled exception occurred: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method520(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at TurboProject.DataLayer.Repository.Impl.RefreshTokenRepository.GetByTokenAsync(String token) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DataLayer\Repository\Impl\RefreshTokenRepository.cs:line 28
   at TurboProject.BusinessLayer.Service.Impl.TokenService.RefreshAsync(String refreshToken, String ipAddress) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\TokenService.cs:line 67
   at TurboProject.APILayer.Controllers.AccountController.Refresh(RefreshRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\AccountController.cs:line 176
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 17:55:48.950 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/refresh - 500 null application/json; charset=utf-8 265.1462ms
2025-05-15 18:12:48.507 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:12:48.552 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:12:48.555 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:12:48.710 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 18:12:48.980 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 18:12:49.020 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 18:12:49.022 +04:00 [INF] Hosting environment: Development
2025-05-15 18:12:49.023 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 18:12:49.244 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 273.5858ms
2025-05-15 18:12:49.342 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 18:12:49.349 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 18:12:49.354 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 30.5875ms
2025-05-15 18:12:49.373 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 4.935ms
2025-05-15 18:12:49.374 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 18:12:49.423 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.2695ms
2025-05-15 18:12:49.602 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 18:12:49.694 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.9966ms
2025-05-15 18:13:23.933 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 18:13:24.118 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 18:13:24.143 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 18:13:24.286 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 18:13:24.441 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 18:13:24.460 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:13:24.464 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:13:24.470 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 18:13:24.485 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 18:13:24.490 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:13:24.661 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 18:13:24.685 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:13:24.696 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 549.0065ms
2025-05-15 18:13:24.696 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 18:13:24.701 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 772.8215ms
2025-05-15 18:13:48.873 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/refresh - application/json 112
2025-05-15 18:13:48.984 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 18:13:48.996 +04:00 [INF] Route matched with {action = "Refresh", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TurboProject.BusinessLayer.Model.DTO.Request.Account.RefreshRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 18:13:49.109 +04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[Created], [r].[CreatedByIp], [r].[Expires], [r].[ReplacedByToken], [r].[Revoked], [r].[RevokedByIp], [r].[Token], [r].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [AspNetUsers] AS [a] ON [r].[UserId] = [a].[Id]
WHERE [r].[Token] = @__token_0
2025-05-15 18:13:49.174 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'TurboProject.DataLayer.Context.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method462(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method462(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-15 18:13:49.323 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer) in 326.139ms
2025-05-15 18:13:49.324 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 18:13:49.389 +04:00 [ERR] An unhandled exception occurred: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method462(Closure, DbDataReader, Int32[])
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadObject(DbDataReader reader, Int32 ordinal, ReaderColumn column)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.ReadRow()
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.BufferedDataRecord.InitializeAsync(DbDataReader reader, IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.BufferedDataReader.InitializeAsync(IReadOnlyList`1 columns, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at TurboProject.DataLayer.Repository.Impl.RefreshTokenRepository.GetByTokenAsync(String token) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DataLayer\Repository\Impl\RefreshTokenRepository.cs:line 28
   at TurboProject.BusinessLayer.Service.Impl.TokenService.RefreshAsync(String refreshToken, String ipAddress) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\TokenService.cs:line 67
   at TurboProject.APILayer.Controllers.AccountController.Refresh(RefreshRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\AccountController.cs:line 176
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 18:13:49.423 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/refresh - 500 null application/json; charset=utf-8 552.2734ms
2025-05-15 18:17:26.670 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:17:26.708 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:17:26.710 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:17:26.852 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 18:17:27.095 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 18:17:27.141 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 18:17:27.143 +04:00 [INF] Hosting environment: Development
2025-05-15 18:17:27.143 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 18:17:27.362 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 273.5367ms
2025-05-15 18:17:27.483 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 18:17:27.483 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 18:17:27.483 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 18:17:27.513 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 12.5021ms
2025-05-15 18:17:27.519 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 35.5157ms
2025-05-15 18:17:27.562 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.355ms
2025-05-15 18:17:27.728 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 18:17:27.826 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.9417ms
2025-05-15 18:18:05.337 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 18:18:05.481 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 18:18:05.507 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 18:18:05.652 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 18:18:05.843 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 18:18:05.868 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:18:05.882 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:18:05.895 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 18:18:05.928 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 18:18:05.936 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:18:06.099 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 18:18:06.125 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:18:06.132 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 622.9065ms
2025-05-15 18:18:06.133 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 18:18:06.140 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 810.6676ms
2025-05-15 18:18:32.221 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/refresh - application/json 112
2025-05-15 18:18:32.330 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 18:18:32.342 +04:00 [INF] Route matched with {action = "Refresh", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TurboProject.BusinessLayer.Model.DTO.Request.Account.RefreshRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 18:18:32.470 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[Created], [r].[CreatedByIp], [r].[Expires], [r].[ReplacedByToken], [r].[Revoked], [r].[RevokedByIp], [r].[Token], [r].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [AspNetUsers] AS [a] ON [r].[UserId] = [a].[Id]
WHERE [r].[Token] = @__token_0
2025-05-15 18:18:32.481 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:18:32.593 +04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [Revoked] = @p0, [RevokedByIp] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-05-15 18:18:32.631 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [Created] = @p0, [CreatedByIp] = @p1, [Expires] = @p2, [ReplacedByToken] = @p3, [Revoked] = @p4, [RevokedByIp] = @p5, [Token] = @p6, [UserId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-05-15 18:18:32.632 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:18:32.633 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer) in 291.2975ms
2025-05-15 18:18:32.634 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 18:18:32.635 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/refresh - 200 null application/json; charset=utf-8 414.9913ms
2025-05-15 18:23:17.856 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/body-types - application/json 29
2025-05-15 18:23:17.921 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:23:17.928 +04:00 [INF] Route matched with {action = "CreateBodyType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBodyType(TurboProject.BusinessLayer.Model.DTO.Request.BodyType.CreateBodyTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:23:18.007 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BodyTypes] AS [b]
        WHERE [b].[BodyTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:23:18.041 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BodyTypes] ([BodyTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:23:18.045 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:23:18.047 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer) in 118.142ms
2025-05-15 18:23:18.047 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:23:18.048 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/body-types - 200 null application/json; charset=utf-8 196.5778ms
2025-05-15 18:23:24.722 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/body-types - application/json 28
2025-05-15 18:23:24.750 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:23:24.754 +04:00 [INF] Route matched with {action = "CreateBodyType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBodyType(TurboProject.BusinessLayer.Model.DTO.Request.BodyType.CreateBodyTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:23:24.818 +04:00 [INF] Executed DbCommand (48ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BodyTypes] AS [b]
        WHERE [b].[BodyTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:23:24.829 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BodyTypes] ([BodyTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:23:24.832 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:23:24.834 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer) in 78.61ms
2025-05-15 18:23:24.834 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:23:24.835 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/body-types - 200 null application/json; charset=utf-8 118.3174ms
2025-05-15 18:24:08.194 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/body-types - application/json 31
2025-05-15 18:24:08.244 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:24:08.246 +04:00 [INF] Route matched with {action = "CreateBodyType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBodyType(TurboProject.BusinessLayer.Model.DTO.Request.BodyType.CreateBodyTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:24:08.287 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BodyTypes] AS [b]
        WHERE [b].[BodyTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:24:08.357 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BodyTypes] ([BodyTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:24:08.360 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:24:08.362 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer) in 115.0705ms
2025-05-15 18:24:08.362 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:24:08.363 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/body-types - 200 null application/json; charset=utf-8 174.4142ms
2025-05-15 18:24:26.261 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/body-types - application/json 33
2025-05-15 18:24:26.279 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:24:26.281 +04:00 [INF] Route matched with {action = "CreateBodyType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBodyType(TurboProject.BusinessLayer.Model.DTO.Request.BodyType.CreateBodyTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:24:26.318 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BodyTypes] AS [b]
        WHERE [b].[BodyTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:24:26.346 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BodyTypes] ([BodyTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:24:26.348 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:24:26.349 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer) in 68.0751ms
2025-05-15 18:24:26.349 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:24:26.350 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/body-types - 200 null application/json; charset=utf-8 98.3622ms
2025-05-15 18:24:47.721 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/body-types - application/json 33
2025-05-15 18:24:47.736 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:24:47.737 +04:00 [INF] Route matched with {action = "CreateBodyType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBodyType(TurboProject.BusinessLayer.Model.DTO.Request.BodyType.CreateBodyTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:24:47.778 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BodyTypes] AS [b]
        WHERE [b].[BodyTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:24:47.797 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BodyTypes] ([BodyTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:24:47.831 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:24:47.833 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer) in 94.8255ms
2025-05-15 18:24:47.833 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBodyType (TurboProject.APILayer)'
2025-05-15 18:24:47.834 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/body-types - 200 null application/json; charset=utf-8 118.4863ms
2025-05-15 18:27:19.227 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/brands - application/json 24
2025-05-15 18:27:19.267 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer)'
2025-05-15 18:27:19.294 +04:00 [INF] Route matched with {action = "CreateBrand", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBrand(TurboProject.BusinessLayer.Model.DTO.Request.Brand.CreateBrandDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:27:19.440 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__name_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE [b].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:27:19.485 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:27:19.494 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:27:19.497 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer) in 202.1618ms
2025-05-15 18:27:19.497 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer)'
2025-05-15 18:27:19.501 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/brands - 200 null application/json; charset=utf-8 277.9481ms
2025-05-15 18:27:25.024 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/brands - application/json 19
2025-05-15 18:27:25.037 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer)'
2025-05-15 18:27:25.039 +04:00 [INF] Route matched with {action = "CreateBrand", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBrand(TurboProject.BusinessLayer.Model.DTO.Request.Brand.CreateBrandDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:27:25.093 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__name_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE [b].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:27:25.131 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:27:25.147 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:27:25.159 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer) in 111.0991ms
2025-05-15 18:27:25.160 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer)'
2025-05-15 18:27:25.160 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/brands - 200 null application/json; charset=utf-8 142.0441ms
2025-05-15 18:27:35.599 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/brands - application/json 20
2025-05-15 18:27:35.621 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer)'
2025-05-15 18:27:35.623 +04:00 [INF] Route matched with {action = "CreateBrand", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBrand(TurboProject.BusinessLayer.Model.DTO.Request.Brand.CreateBrandDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:27:35.673 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__name_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE [b].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:27:35.715 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:27:35.720 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:27:35.726 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer) in 102.2271ms
2025-05-15 18:27:35.726 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateBrand (TurboProject.APILayer)'
2025-05-15 18:27:35.728 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/brands - 200 null application/json; charset=utf-8 137.3345ms
2025-05-15 18:28:03.824 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/cities - application/json 24
2025-05-15 18:28:03.838 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:28:03.853 +04:00 [INF] Route matched with {action = "CreateTransmissionType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransmissionType(TurboProject.BusinessLayer.Model.DTO.Request.City.CreateCityDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:28:03.936 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:28:03.990 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([CityName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:28:03.992 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:28:03.993 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer) in 138.7816ms
2025-05-15 18:28:03.993 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:28:03.994 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/cities - 200 null application/json; charset=utf-8 173.9063ms
2025-05-15 18:28:10.868 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/cities - application/json 24
2025-05-15 18:28:10.883 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:28:10.886 +04:00 [INF] Route matched with {action = "CreateTransmissionType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransmissionType(TurboProject.BusinessLayer.Model.DTO.Request.City.CreateCityDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:28:10.956 +04:00 [INF] Executed DbCommand (48ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:28:10.964 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([CityName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:28:10.965 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:28:10.966 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer) in 80.1591ms
2025-05-15 18:28:10.967 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:28:10.968 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/cities - 200 null application/json; charset=utf-8 103.7133ms
2025-05-15 18:28:35.072 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/engine-sizes - application/json 19
2025-05-15 18:28:35.088 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer)'
2025-05-15 18:28:35.099 +04:00 [INF] Route matched with {action = "CreateEngineSize", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEngineSize(TurboProject.BusinessLayer.Model.DTO.Request.EngineSize.CreateEngineSizeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:28:35.189 +04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__size_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [EngineSizes] AS [e]
        WHERE [e].[Engine] = @__size_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:28:35.217 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EngineSizes] ([Engine])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:28:35.220 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:28:35.221 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer) in 121.0687ms
2025-05-15 18:28:35.221 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer)'
2025-05-15 18:28:35.222 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/engine-sizes - 200 null application/json; charset=utf-8 152.1886ms
2025-05-15 18:29:00.321 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/engine-sizes - application/json 19
2025-05-15 18:29:00.351 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer)'
2025-05-15 18:29:00.358 +04:00 [INF] Route matched with {action = "CreateEngineSize", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEngineSize(TurboProject.BusinessLayer.Model.DTO.Request.EngineSize.CreateEngineSizeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:29:00.437 +04:00 [INF] Executed DbCommand (49ms) [Parameters=[@__size_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [EngineSizes] AS [e]
        WHERE [e].[Engine] = @__size_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:29:00.476 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EngineSizes] ([Engine])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:29:00.481 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:29:00.482 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer) in 121.1936ms
2025-05-15 18:29:00.483 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer)'
2025-05-15 18:29:00.484 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/engine-sizes - 200 null application/json; charset=utf-8 168.4454ms
2025-05-15 18:29:08.925 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/engine-sizes - application/json 19
2025-05-15 18:29:08.945 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer)'
2025-05-15 18:29:08.948 +04:00 [INF] Route matched with {action = "CreateEngineSize", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEngineSize(TurboProject.BusinessLayer.Model.DTO.Request.EngineSize.CreateEngineSizeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:29:08.991 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__size_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [EngineSizes] AS [e]
        WHERE [e].[Engine] = @__size_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:29:09.057 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EngineSizes] ([Engine])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:29:09.060 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:29:09.062 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer) in 113.3086ms
2025-05-15 18:29:09.063 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateEngineSize (TurboProject.APILayer)'
2025-05-15 18:29:09.064 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/engine-sizes - 200 null application/json; charset=utf-8 148.7082ms
2025-05-15 18:31:32.357 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/fuel-types - application/json 30
2025-05-15 18:31:32.375 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateFuelType (TurboProject.APILayer)'
2025-05-15 18:31:32.384 +04:00 [INF] Route matched with {action = "CreateFuelType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateFuelType(TurboProject.BusinessLayer.Model.DTO.Request.FuelType.CreateFuelTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:31:32.477 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FuelTypes] AS [f]
        WHERE [f].[FuelTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:31:32.500 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [FuelTypes] ([FuelTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:31:32.506 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:31:32.508 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateFuelType (TurboProject.APILayer) in 123.3042ms
2025-05-15 18:31:32.508 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateFuelType (TurboProject.APILayer)'
2025-05-15 18:31:32.509 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/fuel-types - 200 null application/json; charset=utf-8 156.0017ms
2025-05-15 18:31:43.402 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/fuel-types - application/json 29
2025-05-15 18:31:43.422 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateFuelType (TurboProject.APILayer)'
2025-05-15 18:31:43.424 +04:00 [INF] Route matched with {action = "CreateFuelType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateFuelType(TurboProject.BusinessLayer.Model.DTO.Request.FuelType.CreateFuelTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:31:43.502 +04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FuelTypes] AS [f]
        WHERE [f].[FuelTypeName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:31:43.514 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [FuelTypes] ([FuelTypeName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:31:43.516 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:31:43.517 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateFuelType (TurboProject.APILayer) in 92.3588ms
2025-05-15 18:31:43.517 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateFuelType (TurboProject.APILayer)'
2025-05-15 18:31:43.518 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/fuel-types - 200 null application/json; charset=utf-8 119.3008ms
2025-05-15 18:32:03.504 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/brand - null null
2025-05-15 18:32:03.521 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer)'
2025-05-15 18:32:03.554 +04:00 [INF] Route matched with {action = "GetAllBrands", controller = "Brand"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBrands() on controller TurboProject.APILayer.Controllers.BrandController (TurboProject.APILayer).
2025-05-15 18:32:03.649 +04:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [Brands] AS [b]
2025-05-15 18:32:03.719 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.Brand.GetBrandDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:32:03.725 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer) in 171.104ms
2025-05-15 18:32:03.726 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.BrandController.GetAllBrands (TurboProject.APILayer)'
2025-05-15 18:32:03.729 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/brand - 200 null application/json; charset=utf-8 225.6784ms
2025-05-15 18:32:20.519 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/models - application/json 34
2025-05-15 18:32:20.540 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:32:20.550 +04:00 [INF] Route matched with {action = "Create", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TurboProject.BusinessLayer.Model.DTO.Request.CarsModel.CreateModelRequestDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:32:20.628 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Models] ([BrandId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-05-15 18:32:20.631 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:32:20.632 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer) in 81.885ms
2025-05-15 18:32:20.633 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:32:20.633 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/models - 200 null application/json; charset=utf-8 116.6048ms
2025-05-15 18:32:30.785 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/models - application/json 34
2025-05-15 18:32:30.805 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:32:30.808 +04:00 [INF] Route matched with {action = "Create", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TurboProject.BusinessLayer.Model.DTO.Request.CarsModel.CreateModelRequestDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:32:30.851 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Models] ([BrandId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-05-15 18:32:30.858 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:32:30.859 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer) in 50.3367ms
2025-05-15 18:32:30.860 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:32:30.861 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/models - 200 null application/json; charset=utf-8 82.1891ms
2025-05-15 18:32:55.415 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/models - application/json 39
2025-05-15 18:32:55.434 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:32:55.435 +04:00 [INF] Route matched with {action = "Create", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TurboProject.BusinessLayer.Model.DTO.Request.CarsModel.CreateModelRequestDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:32:55.532 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Models] ([BrandId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-05-15 18:32:55.536 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:32:55.540 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer) in 104.5809ms
2025-05-15 18:32:55.541 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:32:55.541 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/models - 200 null application/json; charset=utf-8 143.9304ms
2025-05-15 18:33:07.439 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/models - application/json 35
2025-05-15 18:33:07.476 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 14:33:05', Current time (UTC): '15.05.2025 14:33:07'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-15 18:33:07.543 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 14:33:05', Current time (UTC): '15.05.2025 14:33:07'.
2025-05-15 18:33:07.546 +04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-15 18:33:07.551 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-15 18:33:07.556 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/models - 401 null null 123.4362ms
2025-05-15 18:41:35.000 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/refresh - application/json 112
2025-05-15 18:41:35.017 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 14:33:05', Current time (UTC): '15.05.2025 14:41:35'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-15 18:41:35.022 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 14:33:05', Current time (UTC): '15.05.2025 14:41:35'.
2025-05-15 18:41:35.023 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 18:41:35.024 +04:00 [INF] Route matched with {action = "Refresh", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(TurboProject.BusinessLayer.Model.DTO.Request.Account.RefreshRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 18:41:35.172 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[Created], [r].[CreatedByIp], [r].[Expires], [r].[ReplacedByToken], [r].[Revoked], [r].[RevokedByIp], [r].[Token], [r].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [AspNetUsers] AS [a] ON [r].[UserId] = [a].[Id]
WHERE [r].[Token] = @__token_0
2025-05-15 18:41:35.278 +04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:41:35.279 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer) in 254.8569ms
2025-05-15 18:41:35.280 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Refresh (TurboProject.APILayer)'
2025-05-15 18:41:35.280 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/refresh - 401 null application/json; charset=utf-8 283.1388ms
2025-05-15 18:41:41.750 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/account/login - application/json 58
2025-05-15 18:41:41.754 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 14:33:05', Current time (UTC): '15.05.2025 14:41:41'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-15 18:41:41.758 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '15.05.2025 14:33:05', Current time (UTC): '15.05.2025 14:41:41'.
2025-05-15 18:41:41.759 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 18:41:41.760 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(TurboProject.BusinessLayer.Model.DTO.Request.Account.LoginRequestDto) on controller TurboProject.APILayer.Controllers.AccountController (TurboProject.APILayer).
2025-05-15 18:41:41.778 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-15 18:41:41.858 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-15 18:41:41.865 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:41:41.869 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 18:41:41.872 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-15 18:41:41.881 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-15 18:41:41.885 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:41:41.899 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Created], [CreatedByIp], [Expires], [ReplacedByToken], [Revoked], [RevokedByIp], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-15 18:41:41.900 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[TurboProject.BusinessLayer.Model.DTO.Response.Account.LoginResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:41:41.901 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer) in 140.9694ms
2025-05-15 18:41:41.901 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AccountController.Login (TurboProject.APILayer)'
2025-05-15 18:41:41.902 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/account/login - 200 null application/json; charset=utf-8 152.2517ms
2025-05-15 18:42:02.671 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/models - application/json 35
2025-05-15 18:42:02.682 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:42:02.683 +04:00 [INF] Route matched with {action = "Create", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TurboProject.BusinessLayer.Model.DTO.Request.CarsModel.CreateModelRequestDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:42:02.722 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Models] ([BrandId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-05-15 18:42:02.723 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:42:02.724 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer) in 41.5957ms
2025-05-15 18:42:02.725 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.Create (TurboProject.APILayer)'
2025-05-15 18:42:02.725 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/models - 200 null application/json; charset=utf-8 56.2906ms
2025-05-15 18:42:34.559 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/transmission-types - application/json 35
2025-05-15 18:42:34.569 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:42:34.580 +04:00 [INF] Route matched with {action = "CreateTransmissionType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransmissionType(TurboProject.BusinessLayer.Model.DTO.Request.Transmission.CreateTransmissionTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:42:34.636 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transmissions] AS [t]
        WHERE [t].[TransmissionName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:42:34.676 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transmissions] ([TransmissionName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:42:34.678 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:42:34.679 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer) in 98.499ms
2025-05-15 18:42:34.679 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:42:34.680 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/transmission-types - 200 null application/json; charset=utf-8 123.8753ms
2025-05-15 18:42:45.183 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/transmission-types - application/json 33
2025-05-15 18:42:45.197 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:42:45.201 +04:00 [INF] Route matched with {action = "CreateTransmissionType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransmissionType(TurboProject.BusinessLayer.Model.DTO.Request.Transmission.CreateTransmissionTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:42:45.268 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transmissions] AS [t]
        WHERE [t].[TransmissionName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:42:45.279 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transmissions] ([TransmissionName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:42:45.280 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:42:45.281 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer) in 79.3881ms
2025-05-15 18:42:45.281 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:42:45.282 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/transmission-types - 200 null application/json; charset=utf-8 102.258ms
2025-05-15 18:42:53.597 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/admin/transmission-types - application/json 36
2025-05-15 18:42:53.614 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:42:53.615 +04:00 [INF] Route matched with {action = "CreateTransmissionType", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransmissionType(TurboProject.BusinessLayer.Model.DTO.Request.Transmission.CreateTransmissionTypeDto) on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:42:53.647 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transmissions] AS [t]
        WHERE [t].[TransmissionName] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-15 18:42:53.669 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transmissions] ([TransmissionName])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-05-15 18:42:53.670 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:42:53.671 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer) in 55.4242ms
2025-05-15 18:42:53.671 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.CreateTransmissionType (TurboProject.APILayer)'
2025-05-15 18:42:53.673 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/admin/transmission-types - 200 null application/json; charset=utf-8 80.6509ms
2025-05-15 18:43:57.493 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/admin/users - null null
2025-05-15 18:43:57.506 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-15 18:43:57.513 +04:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller TurboProject.APILayer.Controllers.AdminController (TurboProject.APILayer).
2025-05-15 18:43:57.591 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[IsBlocked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-05-15 18:43:57.603 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:43:57.609 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-15 18:43:57.610 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.User.GetUserDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:43:57.614 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer) in 101.5075ms
2025-05-15 18:43:57.615 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.AdminController.GetAllUsers (TurboProject.APILayer)'
2025-05-15 18:43:57.616 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/admin/users - 200 null application/json; charset=utf-8 123.7152ms
2025-05-15 18:44:24.589 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/model - null null
2025-05-15 18:44:24.600 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer)'
2025-05-15 18:44:24.610 +04:00 [INF] Route matched with {action = "GetAllModels", controller = "Model"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllModels() on controller TurboProject.APILayer.Controllers.ModelController (TurboProject.APILayer).
2025-05-15 18:44:24.657 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[BrandId], [m].[Name]
FROM [Models] AS [m]
2025-05-15 18:44:24.692 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.CarsModel.GetModelResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:44:24.698 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer) in 88.3858ms
2025-05-15 18:44:24.699 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer)'
2025-05-15 18:44:24.699 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/model - 200 null application/json; charset=utf-8 118.3249ms
2025-05-15 18:45:09.490 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/model - null null
2025-05-15 18:45:09.502 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer)'
2025-05-15 18:45:09.503 +04:00 [INF] Route matched with {action = "GetAllModels", controller = "Model"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllModels() on controller TurboProject.APILayer.Controllers.ModelController (TurboProject.APILayer).
2025-05-15 18:45:24.275 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[BrandId], [m].[Name]
FROM [Models] AS [m]
2025-05-15 18:52:13.702 +04:00 [INF] Executing OkObjectResult, writing value of type 'TurboProject.BusinessLayer.Model.ApiResponse.ApiResponse`1[[System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.CarsModel.GetModelResponseDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-15 18:52:13.702 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/api/engine-size - null null
2025-05-15 18:52:13.702 +04:00 [INF] Request starting HTTP/2 POST https://localhost:44307/api/car - application/json 385
2025-05-15 18:52:13.748 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.EngineSizeController.GetAllSizes (TurboProject.APILayer)'
2025-05-15 18:52:13.746 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer) in 424242.3427ms
2025-05-15 18:52:13.750 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.ModelController.GetAllModels (TurboProject.APILayer)'
2025-05-15 18:52:13.753 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/model - 200 null application/json; charset=utf-8 424265.2856ms
2025-05-15 18:52:13.799 +04:00 [INF] Executing endpoint 'TurboProject.APILayer.Controllers.CarController.CreateCar (TurboProject.APILayer)'
2025-05-15 18:52:13.812 +04:00 [INF] Route matched with {action = "GetAllSizes", controller = "EngineSize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSizes() on controller TurboProject.APILayer.Controllers.EngineSizeController (TurboProject.APILayer).
2025-05-15 18:52:13.812 +04:00 [INF] Route matched with {action = "CreateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCar(TurboProject.BusinessLayer.Model.DTO.Request.Car.CreateCarRequestDto) on controller TurboProject.APILayer.Controllers.CarController (TurboProject.APILayer).
2025-05-15 18:52:13.927 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Engine]
FROM [EngineSizes] AS [e]
2025-05-15 18:52:13.944 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TurboProject.BusinessLayer.Model.DTO.Response.EngineSize.GetEngineSizeDto, TurboProject.BusinessLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-15 18:52:13.955 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.EngineSizeController.GetAllSizes (TurboProject.APILayer) in 142.2679ms
2025-05-15 18:52:13.956 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.EngineSizeController.GetAllSizes (TurboProject.APILayer)'
2025-05-15 18:52:13.957 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/api/engine-size - 200 null application/json; charset=utf-8 259.2169ms
2025-05-15 18:52:14.034 +04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Size = 450), @p21='?' (Size = 4000), @p22='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cars] ([Barter], [BodyTypeId], [CityId], [CreatedAt], [Credit], [CurrencyType], [Description], [EngineSizeId], [FuelTypeId], [HP], [IsApproved], [IsSold], [Mileage], [ModelId], [Price], [RejectionReason], [SeatNumber], [StatusId], [TransimissionId], [TransmissionId], [UserId], [VinCode], [Year])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-05-15 18:52:14.087 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'TurboProject.DataLayer.Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cars_Statuses_StatusId". The conflict occurred in database "Turboaz", table "dbo.Statuses", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2ff3324-9bbb-4e3d-994a-e4750d293fd5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cars_Statuses_StatusId". The conflict occurred in database "Turboaz", table "dbo.Statuses", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2ff3324-9bbb-4e3d-994a-e4750d293fd5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-15 18:52:14.289 +04:00 [INF] Executed action TurboProject.APILayer.Controllers.CarController.CreateCar (TurboProject.APILayer) in 476.2756ms
2025-05-15 18:52:14.290 +04:00 [INF] Executed endpoint 'TurboProject.APILayer.Controllers.CarController.CreateCar (TurboProject.APILayer)'
2025-05-15 18:52:14.361 +04:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cars_Statuses_StatusId". The conflict occurred in database "Turboaz", table "dbo.Statuses", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2ff3324-9bbb-4e3d-994a-e4750d293fd5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TurboProject.DomainLayer.UoW.Impl.UnitofWork.Commit() in C:\Mac\Home\Desktop\Turbo.az\TurboProject.DomainLayer\UoW\Impl\UnitofWork.cs:line 57
   at TurboProject.BusinessLayer.Service.Impl.CarService.CreateCar(CreateCarRequestDto model) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.BusinessLayer\Service\Impl\CarService.cs:line 27
   at TurboProject.APILayer.Controllers.CarController.CreateCar(CreateCarRequestDto dto) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Controllers\CarController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TurboProject.APILayer.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
2025-05-15 18:52:14.401 +04:00 [INF] Request finished HTTP/2 POST https://localhost:44307/api/car - 500 null application/json; charset=utf-8 703.5475ms
2025-05-15 19:27:11.047 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 19:27:11.088 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 19:27:11.092 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-15 19:27:11.233 +04:00 [INF] User profile is available. Using 'C:\Users\gamidismailov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-15 19:27:11.519 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.html - null null
2025-05-15 19:27:11.562 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-15 19:27:11.563 +04:00 [INF] Hosting environment: Development
2025-05-15 19:27:11.564 +04:00 [INF] Content root path: C:\Mac\Home\Desktop\Turbo.az\TurboProject.APILayer
2025-05-15 19:27:11.796 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.html - 200 null text/html;charset=utf-8 285.6802ms
2025-05-15 19:27:11.936 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/index.js - null null
2025-05-15 19:27:11.942 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_vs/browserLink - null null
2025-05-15 19:27:11.943 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - null null
2025-05-15 19:27:11.975 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/index.js - 200 null application/javascript;charset=utf-8 40.4513ms
2025-05-15 19:27:11.975 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_framework/aspnetcore-browser-refresh.js - 200 13794 application/javascript; charset=utf-8 8.5521ms
2025-05-15 19:27:12.012 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.8138ms
2025-05-15 19:27:12.209 +04:00 [INF] Request starting HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - null null
2025-05-15 19:27:12.407 +04:00 [INF] Request finished HTTP/2 GET https://localhost:44307/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.6092ms
